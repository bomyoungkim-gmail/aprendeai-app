
> api@0.0.1 test
> jest --passWithNoTests

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\unit\family.service.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\integration\study-groups.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\integration\review-srs.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\integration\family-primary.integration.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\integration\sessions.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\integration\classroom-mode.integration.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\integration\cornell.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\integration\family.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\integration\websocket.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\reading-sessions.service.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\family.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prisma\prisma.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\app.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\reading-sessions.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\context\request-context.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\billing\subscription.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\billing\billing.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\billing\usage-tracking.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\billing\enforcement.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\billing\entitlements.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\profiles\profile.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\email\email.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\gamification\gamification.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\vocab\vocab.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prisma\prisma.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\queue\queue.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\queue\queue.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\extraction\extraction.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\billing\billing.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\admin.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\admin.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\admin.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\services\secret.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\services\encryption.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\decorators\roles.decorator.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\guards\roles.guard.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\outcomes\outcomes.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\gating\gating.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL dist/test/unit/family.service.spec.js (28.572 s)
  ● Console

    console.log
      [FamilyService.create] BEFORE UPDATE: { userId: 'user-123', currentSettings: {} }

      at src/family/family.service.ts:50:15

    console.log
      [FamilyService.create] AFTER UPDATE - Set primaryFamilyId: family-id

      at src/family/family.service.ts:62:15

    console.log
      [FamilyService.create] BEFORE UPDATE: {
        userId: 'user-123',
        currentSettings: { primaryFamilyId: 'old-family-id' }
      }

      at src/family/family.service.ts:50:15

    console.log
      [FamilyService.create] AFTER UPDATE - Set primaryFamilyId: family-id

      at src/family/family.service.ts:62:15

    console.log
      Inviting new user: newuser@test.com

      at FamilyService.inviteMember (src/family/family.service.ts:164:16)

    console.log
      Inviting new user: newuser@test.com

      at FamilyService.inviteMember (src/family/family.service.ts:164:16)

  ● FamilyService (Unit) › transferOwnership() › should downgrade old owner to ADMIN

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"data": ObjectContaining {"role": "ADMIN"}, "where": {"familyId_userId": {"familyId": "family-123", "userId": "current-owner-id"}}}
    Received
           1
            @@ -1,8 +1,8 @@
              Object {
            -   "data": ObjectContaining {
            -     "role": "ADMIN",
            +   "data": Object {
            +     "role": "GUARDIAN",
                },
                "where": Object {
                  "familyId_userId": Object {
                    "familyId": "family-123",
                    "userId": "current-owner-id",,
           2
              Object {
            -   "data": ObjectContaining {
            -     "role": "ADMIN",
            +   "data": Object {
            +     "role": "OWNER",
                },
                "where": Object {
                  "familyId_userId": Object {
                    "familyId": "family-123",
            -       "userId": "current-owner-id",
            +       "userId": "new-owner-id",
                  },
                },
              },

    Number of calls: 2

      445 |       await service.transferOwnership(familyId, currentOwnerId, newOwnerId);
      446 |
    > 447 |       expect(prismaService.familyMember.update).toHaveBeenCalledWith({
          |                                                 ^
      448 |         where: {
      449 |           familyId_userId: { familyId, userId: currentOwnerId },
      450 |         },

      at Object.<anonymous> (test/unit/family.service.spec.ts:447:49)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\parsers\quick-command.parser.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ai-service\ai-service.client.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\dto\user-management.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\integration\annotations.integration.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL dist/src/sessions/reading-sessions.service.spec.js (30.65 s)
  ● ReadingSessionsService - Session History › getUserSessions › should return paginated sessions with default params

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply page and limit params

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply date range filters

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply phase filter

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply search query

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should respect max limit of 100

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should transform sessions with duration calculation

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › exportSessions › should export as JSON

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › exportSessions › should export as CSV with proper format

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getActivityAnalytics › should return activity grouped by date

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getActivityAnalytics › should return phase distribution

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\dto\feature-flag.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\dto\feature-flag.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\dashboard.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\dashboard.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\observability\metrics.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\observability\metrics.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\observability\error-tracking.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\observability\error-tracking.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\observability\provider-usage.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\observability\provider-usage.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\dto\dashboard.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\dto\dashboard.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\config.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\config.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\services\config.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\services\config.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\dto\config.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\admin\dto\config.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\billing\plan-limits.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\billing\billing.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\billing\dto\billing.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\billing\user-billing.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\billing\user-billing.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\extraction\extraction.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\extraction\extraction.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\extraction\extraction.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\profiles\profile.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\profiles\profile.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\sessions.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\sessions.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\gamification\gamification.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\gamification\gamification.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\gamification\gamification.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\gamification\gamification.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\gamification\gamification.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\gamification\gamification.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\gamification\gamification.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\gamification\dto\gamification.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\gamification\dto\gamification.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\gamification\dto\gamification.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\gamification\dto\gamification.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\vocab\vocab.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\vocab\vocab.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\vocab\vocab.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\vocab\vocab.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\vocab\vocab.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\vocab\vocab.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\vocab\vocab.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\outcomes\outcomes.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\outcomes\outcomes.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\gating\gating.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\gating\gating.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\reading-sessions.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\reading-sessions.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\reading-sessions.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\dto\reading-sessions.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\dto\reading-sessions.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\dto\reading-sessions.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\dto\start-session.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\dto\start-session.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\enums\index.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\enums\index.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\enums\index.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\enums\actor-role.enum.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\enums\actor-role.enum.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\enums\ui-mode.enum.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\enums\ui-mode.enum.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\enums\ui-mode.enum.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\enums\asset-layer.enum.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\enums\asset-layer.enum.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\enums\asset-layer.enum.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\enums\reading-intent.enum.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\enums\reading-intent.enum.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\enums\reading-intent.enum.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\dto\prompt-message.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\dto\prompt-message.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\dto\prompt-message.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\dto\prompt-message.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\dto\sessions-query.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\dto\sessions-query.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\dto\sessions-query.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\dto\sessions-query.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\listeners\vocab-capture.listener.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\sessions\listeners\vocab-capture.listener.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\app.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\app.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\app.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\app.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\app.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\app.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\app.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\app.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\app.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\app.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\app.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\app.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\analytics\analytics.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\analytics\analytics.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\analytics\analytics.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\analytics\analytics.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\analytics\analytics.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\analytics\analytics.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\analytics\analytics.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\analytics\analytics.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\analytics\analytics.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\analytics\analytics.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\analytics\analytics.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\analytics\analytics.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\analytics\analytics.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\analytics\analytics.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\observability\observability.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\observability\observability.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\observability\jobs.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\observability\jobs.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\interceptors\metrics.interceptor.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\srs\srs.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\srs\srs.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\srs\srs.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\srs\srs.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\srs\srs.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\srs\srs.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\review\review.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\review\review.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\review\review.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\review\review.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\review\review.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\review\review.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\review\review.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\review\review.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\review\dto\review.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\review\dto\review.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\assets\assets.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\assets\assets.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\assets\assets.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\assets\assets.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\assets\assets.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\assets\dto\assets.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\assets\dto\assets.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\cornell.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\cornell.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\cornell.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\cornell.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\cornell.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\cornell.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\cornell.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\guards\quota.guard.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\guards\quota.guard.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\guards\quota.guard.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\guards\quota.guard.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\guards\quota.guard.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\guards\quota.guard.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\guards\quota.guard.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\guards\quota.guard.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\cornell.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\cornell.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\cornell.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\cornell.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\cornell.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\cornell.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\cornell.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\services\storage.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\services\content.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\services\content.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\services\content.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\services\content.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\services\content.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\services\content.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\services\content.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\services\content.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\video\video.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\video\video.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\transcription\transcription.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\transcription\transcription.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\transcription\transcription.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\transcription\transcription.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\transcription\transcription.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\transcription\transcription.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\transcription\transcription.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\transcription\transcription.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL test/unit/family.service.spec.ts (37.106 s)
  ● Console

    console.log
      [FamilyService.create] BEFORE UPDATE: { userId: 'user-123', currentSettings: {} }

      at src/family/family.service.ts:50:15

    console.log
      [FamilyService.create] AFTER UPDATE - Set primaryFamilyId: family-id

      at src/family/family.service.ts:62:15

    console.log
      [FamilyService.create] BEFORE UPDATE: {
        userId: 'user-123',
        currentSettings: { primaryFamilyId: 'old-family-id' }
      }

      at src/family/family.service.ts:50:15

    console.log
      [FamilyService.create] AFTER UPDATE - Set primaryFamilyId: family-id

      at src/family/family.service.ts:62:15

    console.log
      Inviting new user: newuser@test.com

      at FamilyService.inviteMember (src/family/family.service.ts:164:16)

    console.log
      Inviting new user: newuser@test.com

      at FamilyService.inviteMember (src/family/family.service.ts:164:16)

  ● FamilyService (Unit) › transferOwnership() › should downgrade old owner to ADMIN

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"data": ObjectContaining {"role": "ADMIN"}, "where": {"familyId_userId": {"familyId": "family-123", "userId": "current-owner-id"}}}
    Received
           1
            @@ -1,8 +1,8 @@
              Object {
            -   "data": ObjectContaining {
            -     "role": "ADMIN",
            +   "data": Object {
            +     "role": "GUARDIAN",
                },
                "where": Object {
                  "familyId_userId": Object {
                    "familyId": "family-123",
                    "userId": "current-owner-id",,
           2
              Object {
            -   "data": ObjectContaining {
            -     "role": "ADMIN",
            +   "data": Object {
            +     "role": "OWNER",
                },
                "where": Object {
                  "familyId_userId": Object {
                    "familyId": "family-123",
            -       "userId": "current-owner-id",
            +       "userId": "new-owner-id",
                  },
                },
              },

    Number of calls: 2

      445 |       await service.transferOwnership(familyId, currentOwnerId, newOwnerId);
      446 |
    > 447 |       expect(prismaService.familyMember.update).toHaveBeenCalledWith({
          |                                                 ^
      448 |         where: {
      449 |           familyId_userId: { familyId, userId: currentOwnerId },
      450 |         },

      at Object.<anonymous> (test/unit/family.service.spec.ts:447:49)

FAIL src/sessions/reading-sessions.service.spec.ts (38.655 s)
  ● ReadingSessionsService - Session History › getUserSessions › should return paginated sessions with default params

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply page and limit params

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply date range filters

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply phase filter

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply search query

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should respect max limit of 100

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should transform sessions with duration calculation

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › exportSessions › should export as JSON

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › exportSessions › should export as CSV with proper format

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getActivityAnalytics › should return activity grouped by date

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getActivityAnalytics › should return phase distribution

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\extension-auth.service.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\extension-auth.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\dto\extension-auth.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
PASS dist/src/auth/extension-auth.service.spec.js
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\e2e\study-groups\session-flow.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL test/e2e/study-groups/session-flow.spec.ts
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Study Groups - Session Flow', () => {
         |      ^
      12 |   let groupId: string;
      13 |   let sessionId: string;
      14 |

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/study-groups/session-flow.spec.ts:11:6)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\cornell.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\cornell.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\cornell.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\cornell.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\cornell.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\cornell.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\cornell.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\upload-content.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\upload-content.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\upload-content.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\upload-content.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\search-content.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\search-content.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\search-content.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\search-content.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\search-content.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\search-content.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\cornell\dto\search-content.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\video\video.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\transcription\transcription.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\transcription\transcription.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\transcription\transcription.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\transcription\transcription.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\transcription\transcription.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\integration\family-mode.integration.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\family.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\family.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\family.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\family.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\family.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\family.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\family.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\family.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-policy.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-policy.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-policy.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-policy.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-policy.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-policy.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prompts\prompt-library.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prompts\prompt-library.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prompts\prompt-library.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prompts\prompt-library.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prompts\prompt-library.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prompts\prompt-library.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prompts\prompt-library.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\family-event.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\family-event.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\family-event.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\family-event.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\family-event.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\schemas\event-schemas.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\schemas\event-schemas.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\schemas\event-schemas.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\config\family-classroom.config.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\co-reading.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\co-reading.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\co-reading.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\co-reading-state-machine.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\co-reading-state-machine.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\co-reading-state-machine.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\co-reading-state-machine.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\co-reading-state-machine.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\co-reading-state-machine.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\co-reading-state-machine.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\co-reading-state-machine.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\types.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\types.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\teachback.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\teachback.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\family-privacy-guard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\family-privacy-guard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\types.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\types.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\ops-coach.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\ops-coach.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\ops-coach.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\ops-coach.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\ops-coach.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\ops-coach.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\create-family.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\create-family.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\create-family.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\create-family.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\create-family.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\create-family.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\create-family.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\create-family.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\create-family.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\invite-member.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\family-policy.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\family-policy.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\family-policy.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\co-session.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\co-session.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\dto\co-session.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\jwt-auth.guard.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\decorators\public.decorator.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\decorators\public.decorator.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\current-user.decorator.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prompts\prompt-library.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prompts\prompt-library.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prompts\prompt-library.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prompts\prompt-library.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prompts\prompt-library.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prompts\prompt-library.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prompts\prompt-library.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\events.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\events.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\events.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\events.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\events.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\events.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\events.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\events.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\events.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\classroom-event.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\classroom-event.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\classroom-event.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\classroom-event.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\state-machine.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\state-machine.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\state-machine.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\state-machine.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\state-machine.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\state-machine.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\state-machine.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\state-machine.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\state-machine.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\privacy.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\privacy.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\classroom-privacy-guard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\classroom-privacy-guard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\classroom-privacy-guard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\classroom-privacy-guard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\classroom-privacy-guard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\classroom-privacy-guard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\classroom-privacy-guard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\classroom-privacy-guard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\classroom-privacy-guard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\websocket\websocket.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\websocket\websocket.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\websocket\websocket.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\websocket\websocket.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\websocket\websocket.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\websocket\websocket.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\websocket\websocket.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\websocket\websocket.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\websocket\websocket.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\websocket\study-groups-ws.gateway.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\websocket\study-groups-ws.gateway.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\websocket\guards\ws-jwt.guard.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\auth.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\auth.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\users\users.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\e2e\fixtures\test-data.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\e2e\helpers\test-helpers.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL dist/test/e2e/study-groups/session-flow.spec.js
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Study Groups - Session Flow', () => {
         |      ^
      12 |   let groupId: string;
      13 |   let sessionId: string;
      14 |

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/study-groups/session-flow.spec.ts:11:6)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\state-machine\co-reading-state-machine.service.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\auth.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\dto\auth.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\extension-auth.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\users\users.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\users\users.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\users\dto\user.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\jwt.strategy.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\strategies\google.strategy.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\strategies\microsoft.strategy.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\email\email.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\email\email.processor.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
PASS dist/src/state-machine/co-reading-state-machine.service.spec.js
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\email\email.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-sessions.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-sessions.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-sessions.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-sessions.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-sessions.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-sessions.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-sessions.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-sessions.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-sessions.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\websocket\events.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\websocket\events.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-rounds.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-rounds.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-chat.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-chat.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\study-groups.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\create-group.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\create-group.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\invite-member.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\invite-member.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\invite-member.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\invite-member.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\invite-member.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\invite-member.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\invite-member.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\invite-member.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\add-content.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\add-content.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\send-chat-message.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\send-chat-message.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\send-chat-message.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\send-chat-message.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\send-chat-message.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\send-chat-message.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\send-chat-message.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\send-chat-message.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-sessions.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-sessions.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\group-sessions.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\create-session.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\create-session.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\update-session-status.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\update-prompt.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\advance-round.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\study-groups\dto\submit-event.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\health\health.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\health\health.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\health\health.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\health\health.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\health\health.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\health\health.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation-export.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation-export.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\annotation.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\dto\annotation.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\dto\annotation.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\dto\annotation.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\dto\search-annotations.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\dto\search-annotations.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\dto\search-annotations.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\dto\search-annotations.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\dto\search-annotations.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\dto\search-annotations.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\dto\search-annotations.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\dto\search-annotations.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\dto\search-annotations.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\annotations\dto\create-reply.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\activity\activity.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\activity\activity.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\activity\activity.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\activity\activity.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\activity\activity.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\activity\activity.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\activity\activity.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\activity\activity.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\activity\activity.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL test/e2e/study-groups/realtime-collab.spec.ts
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Real-Time Collaboration - WebSocket', () => {
         |      ^
      12 |   let sessionId: string;
      13 |   let groupId: string;
      14 |

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/study-groups/realtime-collab.spec.ts:11:6)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\activity\activity.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\activity\activity.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\activity\activity.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\activity\activity.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\activity\activity.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\recommendations\recommendation.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\recommendations\recommendation.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\recommendations\recommendation.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\recommendations\recommendation.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\recommendations\recommendation.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\recommendations\recommendation.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\recommendations\recommendation.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\recommendations\recommendation.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\recommendations\recommendation.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\recommendations\recommendation.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\recommendations\recommendation.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\recommendations\recommendation.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\recommendations\recommendation.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\search.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\search.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\search.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\search.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\search.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\search.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\search.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\search.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\search.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\search.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\search.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\search.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\search.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\search.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\search.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\dto\search.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\dto\search.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\dto\search.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\dto\search.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\dto\search.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\dto\search.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\dto\search.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\dto\search.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\search\dto\search.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\classroom.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\classroom.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\classroom.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\classroom.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\classroom.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\classroom.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\classroom.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\classroom.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\classroom.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\classroom.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\classroom.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\classroom.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\classroom.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\classroom.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\classroom.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\classroom.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\classroom.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\classroom.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\classroom.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\classroom.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\classroom.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\enrollment.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-policy.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-plan.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-plan.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-plan.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-plan.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-intervention.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-intervention.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-intervention.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\services\class-dashboard.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\dto\classroom.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\dto\classroom.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\dto\classroom.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\dto\classroom.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\dto\classroom.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\dto\classroom.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\classroom\dto\classroom.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\ops.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\ops.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\ops.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\ops.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\ops.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\ops.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\ops.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\ops.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\ops.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\ops.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\ops.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\dto\ops.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\dto\ops.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\dto\ops.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\dto\ops.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\dto\ops.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\dto\ops.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\ops\dto\ops.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\constants\routes.constants.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.module.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\webclips.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\dto\webclip.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\webclips\dto\webclip.dto.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\extension-scope.guard.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\auth\extension-scope.guard.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\middleware\request-id.middleware.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\middleware\request-id.middleware.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\middleware\request-id.middleware.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\middleware\request-id.middleware.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\middleware\request-id.middleware.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\middleware\logger.middleware.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\middleware\logger.middleware.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\middleware\logger.middleware.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\middleware\route-validation.middleware.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\middleware\route-validation.middleware.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\middleware\route-validation.middleware.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\middleware\route-validation.middleware.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\common\constants\index.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\helpers\auth.helper.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\helpers\routes.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\helpers\routes.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\helpers\routes.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\helpers\routes.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL dist/test/integration/classroom-mode.integration.spec.js (50.638 s)
  ● Classroom Mode Integration Tests (e2e) › Classroom CRUD Flow › should create a classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      45 |         });
      46 |
    > 47 |       expect(response.status).toBe(201);
         |                               ^
      48 |       expect(response.body).toHaveProperty('id');
      49 |       expect(response.body.name).toBe('Turma 5A - Teste');
      50 |       

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:47:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom CRUD Flow › should get classroom by ID

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      57 |         .set('Authorization', `Bearer ${authToken}`);
      58 |
    > 59 |       expect(response.status).toBe(200);
         |                               ^
      60 |       expect(response.body.id).toBe(classroomId);
      61 |       expect(response.body).toHaveProperty('enrollments');
      62 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:59:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom CRUD Flow › should update classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      70 |         });
      71 |
    > 72 |       expect(response.status).toBe(200);
         |                               ^
      73 |       expect(response.body.name).toBe('Turma 5A - Atualizada');
      74 |     });
      75 |   });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:72:31)

  ● Classroom Mode Integration Tests (e2e) › Enrollment Flow › should enroll student in classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      85 |         });
      86 |
    > 87 |       expect(response.status).toBe(201);
         |                               ^
      88 |       expect(response.body.learnerUserId).toBe(studentId);
      89 |       expect(response.body.status).toBe('ACTIVE');
      90 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:87:31)

  ● Classroom Mode Integration Tests (e2e) › Enrollment Flow › should get enrollments for classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

       95 |         .set('Authorization', `Bearer ${authToken}`);
       96 |
    >  97 |       expect(response.status).toBe(200);
          |                               ^
       98 |       expect(Array.isArray(response.body)).toBe(true);
       99 |       expect(response.body.length).toBeGreaterThan(0);
      100 |       expect(response.body[0].learnerUserId).toBe(studentId);

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:97:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom Policy Flow › should create classroom policy

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      114 |         });
      115 |
    > 116 |       expect(response.status).toBe(201);
          |                               ^
      117 |       expect(response.body.weeklyUnitsTarget).toBe(3);
      118 |       expect(response.body.privacyMode).toBe('AGGREGATED_PLUS_HELP_REQUESTS');
      119 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:116:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom Policy Flow › should get policy prompt

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      128 |         });
      129 |
    > 130 |       expect(response.status).toBe(201);
          |                               ^
      131 |       expect(response.body).toHaveProperty('nextPrompt');
      132 |       expect(response.body.nextPrompt).toContain('3');
      133 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:130:31)

  ● Classroom Mode Integration Tests (e2e) › Weekly Planning Flow › should create weekly plan

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      148 |         });
      149 |
    > 150 |       expect(response.status).toBe(201);
          |                               ^
      151 |       expect(response.body).toHaveProperty('itemsJson');
      152 |       expect(response.body.itemsJson).toHaveLength(3);
      153 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:150:31)

  ● Classroom Mode Integration Tests (e2e) › Weekly Planning Flow › should get current week plan

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      158 |         .set('Authorization', `Bearer ${authToken}`);
      159 |
    > 160 |       expect(response.status).toBe(200);
          |                               ^
      161 |       expect(response.body).toHaveProperty('itemsJson');
      162 |     });
      163 |   });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:160:31)

  ● Classroom Mode Integration Tests (e2e) › Dashboard with Privacy Filtering › should get teacher dashboard with privacy filtering

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      169 |         .set('Authorization', `Bearer ${authToken}`);
      170 |
    > 171 |       expect(response.status).toBe(200);
          |                               ^
      172 |       expect(response.body).toHaveProperty('activeStudents');
      173 |       expect(response.body).toHaveProperty('students');
      174 |       expect(response.body.privacyMode).toBe('AGGREGATED_PLUS_HELP_REQUESTS');

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:171:31)

  ● Classroom Mode Integration Tests (e2e) › Intervention Flow › should log student help request

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      194 |         });
      195 |
    > 196 |       expect(response.status).toBe(201);
          |                               ^
      197 |       expect(response.body).toHaveProperty('timestamp');
      198 |       expect(response.body.status).toBe('PENDING');
      199 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:196:31)

  ● Classroom Mode Integration Tests (e2e) › Intervention Flow › should get intervention prompt

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      208 |         });
      209 |
    > 210 |       expect(response.status).toBe(201);
          |                               ^
      211 |       expect(response.body).toHaveProperty('nextPrompt');
      212 |       expect(response.body.nextPrompt).toContain('Maria');
      213 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:210:31)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\integration\extension-auth.integration.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL dist/test/integration/annotations.integration.spec.js (22.454 s)
  ● Annotations Integration Tests › POST /contents/:contentId/annotations › should create a highlight annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › POST /contents/:contentId/annotations › should create a note annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › POST /contents/:contentId/annotations › should create a group annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › GET /contents/:contentId/annotations › should return all annotations for content

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › GET /contents/:contentId/annotations › should filter by groupId

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › PUT /contents/:contentId/annotations/:id › should update annotation text

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › DELETE /contents/:contentId/annotations/:id › should delete annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)


  ● Test suite failed to run

    PrismaClientValidationError: 
    Invalid `prisma.content.delete()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\annotations.integration.spec.ts:65:32

      62 await prisma.annotation.deleteMany({
      63   where: { contentId: testContentId },
      64 });
    → 65 await prisma.content.delete({
           where: {
             id: undefined,
         ?   AND?: ContentWhereInput | ContentWhereInput[],
         ?   OR?: ContentWhereInput[],
         ?   NOT?: ContentWhereInput | ContentWhereInput[],
         ?   institutionId?: StringNullableFilter | String | Null,
         ?   type?: EnumContentTypeFilter | ContentType,
         ?   sourceId?: StringNullableFilter | String | Null,
         ?   title?: StringFilter | String,
         ?   originalLanguage?: EnumLanguageFilter | Language,
         ?   rawText?: StringFilter | String,
         ?   metadata?: JsonNullableFilter,
         ?   createdBy?: StringNullableFilter | String | Null,
         ?   createdAt?: DateTimeFilter | DateTime,
         ?   updatedAt?: DateTimeFilter | DateTime,
         ?   scopeType?: EnumScopeTypeFilter | ScopeType,
         ?   familyId?: StringNullableFilter | String | Null,
         ?   fileId?: StringNullableFilter | String | Null,
         ?   languageGuess?: StringNullableFilter | String | Null,
         ?   ownerUserId?: StringNullableFilter | String | Null,
         ?   scopeId?: StringNullableFilter | String | Null,
         ?   sourceUrl?: StringNullableFilter | String | Null,
         ?   family?: FamilyNullableRelationFilter | FamilyWhereInput | Null,
         ?   assessments?: AssessmentListRelationFilter,
         ?   extractions?: ContentExtractionListRelationFilter,
         ?   versions?: ContentVersionListRelationFilter,
         ?   creator?: UserNullableRelationFilter | UserWhereInput | Null,
         ?   file?: FileNullableRelationFilter | FileWhereInput | Null,
         ?   institution?: InstitutionNullableRelationFilter | InstitutionWhereInput | Null,
         ?   ownerUser?: UserNullableRelationFilter | UserWhereInput | Null,
         ?   cornellNotes?: CornellNotesListRelationFilter,
         ?   highlights?: HighlightListRelationFilter,
         ?   chunks?: ContentChunkListRelationFilter,
         ?   learningAssets?: LearningAssetListRelationFilter,
         ?   lessons?: LessonListRelationFilter,
         ?   UserLibraryItem?: UserLibraryItemListRelationFilter,
         ?   ReadingSession?: ReadingSessionListRelationFilter,
         ?   UserVocabulary?: UserVocabularyListRelationFilter,
         ?   groupContents?: GroupContentListRelationFilter,
         ?   groupSessions?: GroupSessionListRelationFilter,
         ?   annotations?: AnnotationListRelationFilter
           }
         })

    Argument `where` of type ContentWhereUniqueInput needs at least one of `id` arguments. Available options are marked with ?.

      63 |       where: { contentId: testContentId },
      64 |     });
    > 65 |     await prisma.content.delete({ where: { id: testContentId } });
         |     ^
      66 |     await prisma.studyGroup.delete({ where: { id: testGroupId } });
      67 |     await app.close();
      68 |   });

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:65:5)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\e2e\study-groups\realtime-collab.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
[Nest] 54444  - 22/12/2025, 09:31:36   ERROR [NestApplication] Error: listen EADDRINUSE: address already in use :::8000
FAIL test/integration/websocket.spec.ts (51.768 s)
  ● WebSocket Real-Time Events (Integration) › WebSocket Connection › should connect with valid JWT token

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › WebSocket Connection › should reject connection with invalid token

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › WebSocket Connection › should reject connection without token

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Session Membership Events › should notify other users when someone joins session

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Session Membership Events › should notify other users when someone leaves session

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast SESSION_STARTED event to all members

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast ROUND_ADVANCED event when round status changes

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast VOTE_SUBMITTED event when user votes

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast CHAT_MESSAGE event when user sends message

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Event Isolation › should NOT receive events from other sessions

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Event Isolation › should NOT receive events from other sessions

    TypeError: Cannot read properties of undefined (reading 'groupSession')

      411 |     beforeAll(async () => {
      412 |       // Create second session
    > 413 |       const session2 = await prisma.groupSession.create({
          |                                     ^
      414 |         data: {
      415 |           groupId,
      416 |           contentId,

      at Object.<anonymous> (test/integration/websocket.spec.ts:413:37)


  ● Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'groupSession')

      424 |
      425 |     afterAll(async () => {
    > 426 |       await prisma.groupSession.delete({ where: { id: session2Id } });
          |                    ^
      427 |     });
      428 |
      429 |     it('should NOT receive events from other sessions', (done) => {

      at Object.<anonymous> (test/integration/websocket.spec.ts:426:20)

  ● Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'content')

      161 |       await prisma.studyGroup.delete({ where: { id: groupId } });
      162 |     }
    > 163 |     await prisma.content.delete({ where: { id: contentId } });
          |                  ^
      164 |     await prisma.user.delete({ where: { id: user1Id } });
      165 |     await prisma.user.delete({ where: { id: user2Id } });
      166 |

      at Object.<anonymous> (test/integration/websocket.spec.ts:163:18)

FAIL test/integration/classroom-mode.integration.spec.ts (51.753 s)
  ● Classroom Mode Integration Tests (e2e) › Classroom CRUD Flow › should create a classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      45 |         });
      46 |
    > 47 |       expect(response.status).toBe(201);
         |                               ^
      48 |       expect(response.body).toHaveProperty('id');
      49 |       expect(response.body.name).toBe('Turma 5A - Teste');
      50 |       

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:47:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom CRUD Flow › should get classroom by ID

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      57 |         .set('Authorization', `Bearer ${authToken}`);
      58 |
    > 59 |       expect(response.status).toBe(200);
         |                               ^
      60 |       expect(response.body.id).toBe(classroomId);
      61 |       expect(response.body).toHaveProperty('enrollments');
      62 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:59:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom CRUD Flow › should update classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      70 |         });
      71 |
    > 72 |       expect(response.status).toBe(200);
         |                               ^
      73 |       expect(response.body.name).toBe('Turma 5A - Atualizada');
      74 |     });
      75 |   });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:72:31)

  ● Classroom Mode Integration Tests (e2e) › Enrollment Flow › should enroll student in classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      85 |         });
      86 |
    > 87 |       expect(response.status).toBe(201);
         |                               ^
      88 |       expect(response.body.learnerUserId).toBe(studentId);
      89 |       expect(response.body.status).toBe('ACTIVE');
      90 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:87:31)

  ● Classroom Mode Integration Tests (e2e) › Enrollment Flow › should get enrollments for classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

       95 |         .set('Authorization', `Bearer ${authToken}`);
       96 |
    >  97 |       expect(response.status).toBe(200);
          |                               ^
       98 |       expect(Array.isArray(response.body)).toBe(true);
       99 |       expect(response.body.length).toBeGreaterThan(0);
      100 |       expect(response.body[0].learnerUserId).toBe(studentId);

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:97:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom Policy Flow › should create classroom policy

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      114 |         });
      115 |
    > 116 |       expect(response.status).toBe(201);
          |                               ^
      117 |       expect(response.body.weeklyUnitsTarget).toBe(3);
      118 |       expect(response.body.privacyMode).toBe('AGGREGATED_PLUS_HELP_REQUESTS');
      119 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:116:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom Policy Flow › should get policy prompt

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      128 |         });
      129 |
    > 130 |       expect(response.status).toBe(201);
          |                               ^
      131 |       expect(response.body).toHaveProperty('nextPrompt');
      132 |       expect(response.body.nextPrompt).toContain('3');
      133 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:130:31)

  ● Classroom Mode Integration Tests (e2e) › Weekly Planning Flow › should create weekly plan

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      148 |         });
      149 |
    > 150 |       expect(response.status).toBe(201);
          |                               ^
      151 |       expect(response.body).toHaveProperty('itemsJson');
      152 |       expect(response.body.itemsJson).toHaveLength(3);
      153 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:150:31)

  ● Classroom Mode Integration Tests (e2e) › Weekly Planning Flow › should get current week plan

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      158 |         .set('Authorization', `Bearer ${authToken}`);
      159 |
    > 160 |       expect(response.status).toBe(200);
          |                               ^
      161 |       expect(response.body).toHaveProperty('itemsJson');
      162 |     });
      163 |   });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:160:31)

  ● Classroom Mode Integration Tests (e2e) › Dashboard with Privacy Filtering › should get teacher dashboard with privacy filtering

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      169 |         .set('Authorization', `Bearer ${authToken}`);
      170 |
    > 171 |       expect(response.status).toBe(200);
          |                               ^
      172 |       expect(response.body).toHaveProperty('activeStudents');
      173 |       expect(response.body).toHaveProperty('students');
      174 |       expect(response.body.privacyMode).toBe('AGGREGATED_PLUS_HELP_REQUESTS');

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:171:31)

  ● Classroom Mode Integration Tests (e2e) › Intervention Flow › should log student help request

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      194 |         });
      195 |
    > 196 |       expect(response.status).toBe(201);
          |                               ^
      197 |       expect(response.body).toHaveProperty('timestamp');
      198 |       expect(response.body.status).toBe('PENDING');
      199 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:196:31)

  ● Classroom Mode Integration Tests (e2e) › Intervention Flow › should get intervention prompt

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      208 |         });
      209 |
    > 210 |       expect(response.status).toBe(201);
          |                               ^
      211 |       expect(response.body).toHaveProperty('nextPrompt');
      212 |       expect(response.body.nextPrompt).toContain('Maria');
      213 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:210:31)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\integration\webclip-creation.integration.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL test/integration/extension-auth.integration.spec.ts (52.64 s)
  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should start device code flow

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      78 |         });
      79 |
    > 80 |       expect(response.status).toBe(201);
         |                               ^
      81 |       expect(response.body).toHaveProperty('deviceCode');
      82 |       expect(response.body).toHaveProperty('userCode');
      83 |       expect(response.body).toHaveProperty('verificationUrl');

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:80:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should return PENDING when polling immediately

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

       95 |         });
       96 |
    >  97 |       expect(response.status).toBe(201);
          |                               ^
       98 |       expect(response.body.status).toBe('PENDING');
       99 |     });
      100 |

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:97:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should approve device code (as logged in user)

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      108 |         });
      109 |
    > 110 |       expect(response.status).toBe(201);
          |                               ^
      111 |       expect(response.body.ok).toBe(true);
      112 |     });
      113 |

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:110:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should return APPROVED and tokens when polling after approval

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      120 |         });
      121 |
    > 122 |       expect(response.status).toBe(201);
          |                               ^
      123 |       expect(response.body.status).toBe('APPROVED');
      124 |       expect(response.body).toHaveProperty('accessToken');
      125 |       expect(response.body).toHaveProperty('refreshToken');

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:122:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should use extension token to access protected endpoint

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      136 |         .set('Authorization', `Bearer ${accessToken}`);
      137 |
    > 138 |       expect(response.status).toBe(200);
          |                               ^
      139 |       expect(response.body.userId).toBe(userId);
      140 |     });
      141 |

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:138:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should refresh token

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      145 |         .send({ refreshToken });
      146 |
    > 147 |       expect(response.status).toBe(201);
          |                               ^
      148 |       expect(response.body).toHaveProperty('accessToken');
      149 |       
      150 |       // Old token should still be valid until expiry, but let's just check we got a new one

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:147:31)

FAIL dist/test/integration/cornell.spec.js (52.676 s)
  ● Cornell Notes Integration Tests › GET /contents/:id/cornell - Auto-create › should create empty Cornell notes on first GET

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › GET /contents/:id/cornell - Auto-create › should return existing Cornell notes on subsequent GET

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save main notes

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save cue column

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save summary text

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save all fields together

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Persistence › should persist changes across GET requests

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Persistence › should update existing notes without losing data

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Validation › should reject invalid mainNotes format

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Validation › should allow empty cornell notes

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

FAIL dist/test/integration/study-groups.spec.js (52.725 s)
  ● Study Groups API (Integration) › Groups Management › POST /groups - should create group

    expected 201 "Created", got 404 "Not Found"

       95 |         .set('Authorization', authToken)
       96 |         .send({ name: 'Integration Test Group' })
    >  97 |         .expect(201);
          |          ^
       98 |
       99 |       expect(res.body).toHaveProperty('id');
      100 |       expect(res.body.name).toBe('Integration Test Group');

      at Object.<anonymous> (test/integration/study-groups.spec.ts:97:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › GET /groups - should list user groups

    expected 200 "OK", got 404 "Not Found"

      108 |         .get('/groups')
      109 |         .set('Authorization', authToken)
    > 110 |         .expect(200);
          |          ^
      111 |
      112 |       expect(Array.isArray(res.body)).toBe(true);
      113 |       expect(res.body.length).toBeGreaterThan(0);

      at Object.<anonymous> (test/integration/study-groups.spec.ts:110:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › GET /groups/:groupId - should get group details

    expected 200 "OK", got 404 "Not Found"

      119 |         .get(`/groups/${groupId}`)
      120 |         .set('Authorization', authToken)
    > 121 |         .expect(200);
          |          ^
      122 |
      123 |       expect(res.body.id).toBe(groupId);
      124 |       expect(res.body.name).toBe('Integration Test Group');

      at Object.<anonymous> (test/integration/study-groups.spec.ts:121:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › POST /groups/:groupId/members/invite - should invite member

    expected 201 "Created", got 404 "Not Found"

      147 |         .set('Authorization', authToken)
      148 |         .send({ userId: user2.id, role: 'MEMBER' })
    > 149 |         .expect(201);
          |          ^
      150 |
      151 |       // Verify member was invited
      152 |       const member = await prisma.studyGroupMember.findUnique({

      at Object.<anonymous> (test/integration/study-groups.spec.ts:149:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › POST /groups/:groupId/contents - should add content

    expected 201 "Created", got 404 "Not Found"

      166 |         .set('Authorization', authToken)
      167 |         .send({ contentId })
    > 168 |         .expect(201);
          |          ^
      169 |
      170 |       // Verify content was added
      171 |       const groupContent = await prisma.groupContent.findUnique({

      at Object.<anonymous> (test/integration/study-groups.spec.ts:168:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › DELETE /groups/:groupId/contents/:contentId - should remove content

    PrismaClientValidationError: 
    Invalid `prisma.groupContent.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:190:33

      187   },
      188 });
      189 
    → 190 await prisma.groupContent.create({
            data: {
              groupId: undefined,
              contentId: "02427bdd-2418-4386-bcab-824bdd73c0eb",
              addedByUserId: "56e13708-1e8e-452e-aba7-53054562474a",
          +   group: {
          +     create: StudyGroupCreateWithoutContentsInput | StudyGroupUncheckedCreateWithoutContentsInput,
          +     connectOrCreate: StudyGroupCreateOrConnectWithoutContentsInput,
          +     connect: StudyGroupWhereUniqueInput
          +   }
            }
          })

    Argument `group` is missing.

      188 |       });
      189 |
    > 190 |       await prisma.groupContent.create({
          |       ^
      191 |         data: { groupId, contentId: content2.id, addedByUserId: userId },
      192 |       });
      193 |

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:190:7)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions - should create session

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › GET /group-sessions/:sessionId - should get session details

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › PUT /group-sessions/:sessionId/start - should start session

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions/:sessionId/events - should submit vote

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions/:sessionId/rounds/:roundIndex/advance - should block with 409 if incomplete

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions/:sessionId/rounds/:roundIndex/advance - should advance after all vote

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › GET /group-sessions/:sessionId/events - should get events

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › GET /group-sessions/:sessionId/shared-cards - should get shared cards

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Permission Tests › should reject unauthorized access (no token)

    expected 401 "Unauthorized", got 404 "Not Found"

      392 |       await request(app.getHttpServer())
      393 |         .get('/groups')
    > 394 |         .expect(401);
          |          ^
      395 |     });
      396 |
      397 |     it('should reject MEMBER trying to invite', async () => {

      at Object.<anonymous> (test/integration/study-groups.spec.ts:394:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Permission Tests › should reject MEMBER trying to invite

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:410:37

      407   },
      408 });
      409 
    → 410 await prisma.studyGroupMember.create({
            data: {
              groupId: undefined,
              userId: "87167845-cd25-442c-8438-d5fe850bba23",
              role: "MEMBER",
              status: "ACTIVE",
          +   group: {
          +     create: StudyGroupCreateWithoutMembersInput | StudyGroupUncheckedCreateWithoutMembersInput,
          +     connectOrCreate: StudyGroupCreateOrConnectWithoutMembersInput,
          +     connect: StudyGroupWhereUniqueInput
          +   }
            }
          })

    Argument `group` is missing.

      408 |       });
      409 |
    > 410 |       await prisma.studyGroupMember.create({
          |       ^
      411 |         data: {
      412 |           groupId,
      413 |           userId: memberUser.id,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:410:7)

  ● Study Groups API (Integration) › Permission Tests › should reject expired JWT token

    expected 401 "Unauthorized", got 404 "Not Found"

      447 |         .get('/groups')
      448 |         .set('Authorization', `Bearer ${expiredToken}`)
    > 449 |         .expect(401);
          |          ^
      450 |     });
      451 |
      452 |     it('should reject invalid JWT token', async () => {

      at Object.<anonymous> (test/integration/study-groups.spec.ts:449:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Permission Tests › should reject invalid JWT token

    expected 401 "Unauthorized", got 404 "Not Found"

      454 |         .get('/groups')
      455 |         .set('Authorization', 'Bearer invalid-token-12345')
    > 456 |         .expect(401);
          |          ^
      457 |     });
      458 |   });
      459 | });

      at Object.<anonymous> (test/integration/study-groups.spec.ts:456:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\family\services\family-policy.service.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL test/integration/sessions.spec.ts (52.956 s)
  ● Sessions Integration Tests › POST /contents/:id/sessions - Create Session › should create a new reading session

    expected 201 "Created", got 404 "Not Found"

      103 |         .post(`/contents/${testContentId}/sessions`)
      104 |         .set('Authorization', authToken)
    > 105 |         .expect(201);
          |          ^
      106 |       
      107 |       expect(response.body).toHaveProperty('id');
      108 |       expect(response.body.phase).toBe('PRE');

      at Object.<anonymous> (test/integration/sessions.spec.ts:105:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Phase Transitions › should advance from PRE to DURING

    expected 200 "OK", got 404 "Not Found"

      146 |           targetWords: ['test', 'integration', 'jest'],
      147 |         })
    > 148 |         .expect(200);
          |          ^
      149 |       
      150 |       // Then advance to DURING
      151 |       const response = await request(app.getHttpServer())

      at Object.<anonymous> (test/integration/sessions.spec.ts:148:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Phase Transitions › should reject FINISHED without DoD requirements

    expected 400 "Bad Request", got 404 "Not Found"

      170 |         .set('Authorization', authToken)
      171 |         .send({ toPhase: 'FINISHED' })
    > 172 |         .expect(400);  // Should fail DoD validation
          |          ^
      173 |     });
      174 |     
      175 |     it('should allow FINISHED when all DoD met', async () => {

      at Object.<anonymous> (test/integration/sessions.spec.ts:172:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Phase Transitions › should allow FINISHED when all DoD met

    expected 200 "OK", got 404 "Not Found"

      211 |         .set('Authorization', authToken)
      212 |         .send({ toPhase: 'FINISHED' })
    > 213 |         .expect(200);
          |          ^
      214 |       
      215 |       expect(response.body.phase).toBe('FINISHED');
      216 |       expect(response.body.finishedAt).toBeDefined();

      at Object.<anonymous> (test/integration/sessions.spec.ts:213:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Events › should record quiz response event

    expected 201 "Created", got 404 "Not Found"

      240 |           payload: { correct: true, questionText: 'What is Jest?' },
      241 |         })
    > 242 |         .expect(201);
          |          ^
      243 |       
      244 |       expect(response.body.eventType).toBe('QUIZ_RESPONSE');
      245 |       expect(response.body.readingSessionId).toBe(sessionId);

      at Object.<anonymous> (test/integration/sessions.spec.ts:242:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Events › should record production submit event

    expected 201 "Created", got 404 "Not Found"

      254 |           payload: { text: 'My notes on testing' },
      255 |         })
    > 256 |         .expect(201);
          |          ^
      257 |       
      258 |       expect(response.body.eventType).toBe('PRODUCTION_SUBMIT');
      259 |     });

      at Object.<anonymous> (test/integration/sessions.spec.ts:256:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)


  ● Test suite failed to run

    PrismaClientKnownRequestError: 
    Invalid `prisma.readingSession.deleteMany()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\sessions.spec.ts:90:33

      87 // Cleanup
      88 await prisma.sessionEvent.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
      89 await prisma.sessionOutcome.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
    → 90 await prisma.readingSession.deleteMany(
    Foreign key constraint violated: `legacy_cornell_notes_reading_session_id_fkey (index)`

      88 |     await prisma.sessionEvent.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
      89 |     await prisma.sessionOutcome.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
    > 90 |     await prisma.readingSession.deleteMany({ where: { userId: testUserId } });
         |     ^
      91 |     await prisma.contentChunk.deleteMany({ where: { contentId: testContentId } });
      92 |     await prisma.cornellNote.deleteMany({ where: { userId: testUserId } });
      93 |     await prisma.content.deleteMany({ where: { id: testContentId } });

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/sessions.spec.ts:90:5)

FAIL dist/test/e2e/study-groups/realtime-collab.spec.js
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Real-Time Collaboration - WebSocket', () => {
         |      ^
      12 |   let sessionId: string;
      13 |   let groupId: string;
      14 |

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/study-groups/realtime-collab.spec.ts:11:6)

FAIL dist/test/integration/sessions.spec.js (53.003 s)
  ● Sessions Integration Tests › POST /contents/:id/sessions - Create Session › should create a new reading session

    expected 201 "Created", got 404 "Not Found"

      103 |         .post(`/contents/${testContentId}/sessions`)
      104 |         .set('Authorization', authToken)
    > 105 |         .expect(201);
          |          ^
      106 |       
      107 |       expect(response.body).toHaveProperty('id');
      108 |       expect(response.body.phase).toBe('PRE');

      at Object.<anonymous> (test/integration/sessions.spec.ts:105:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Phase Transitions › should advance from PRE to DURING

    expected 200 "OK", got 404 "Not Found"

      146 |           targetWords: ['test', 'integration', 'jest'],
      147 |         })
    > 148 |         .expect(200);
          |          ^
      149 |       
      150 |       // Then advance to DURING
      151 |       const response = await request(app.getHttpServer())

      at Object.<anonymous> (test/integration/sessions.spec.ts:148:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Phase Transitions › should reject FINISHED without DoD requirements

    expected 400 "Bad Request", got 404 "Not Found"

      170 |         .set('Authorization', authToken)
      171 |         .send({ toPhase: 'FINISHED' })
    > 172 |         .expect(400);  // Should fail DoD validation
          |          ^
      173 |     });
      174 |     
      175 |     it('should allow FINISHED when all DoD met', async () => {

      at Object.<anonymous> (test/integration/sessions.spec.ts:172:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Phase Transitions › should allow FINISHED when all DoD met

    expected 200 "OK", got 404 "Not Found"

      211 |         .set('Authorization', authToken)
      212 |         .send({ toPhase: 'FINISHED' })
    > 213 |         .expect(200);
          |          ^
      214 |       
      215 |       expect(response.body.phase).toBe('FINISHED');
      216 |       expect(response.body.finishedAt).toBeDefined();

      at Object.<anonymous> (test/integration/sessions.spec.ts:213:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Events › should record quiz response event

    expected 201 "Created", got 404 "Not Found"

      240 |           payload: { correct: true, questionText: 'What is Jest?' },
      241 |         })
    > 242 |         .expect(201);
          |          ^
      243 |       
      244 |       expect(response.body.eventType).toBe('QUIZ_RESPONSE');
      245 |       expect(response.body.readingSessionId).toBe(sessionId);

      at Object.<anonymous> (test/integration/sessions.spec.ts:242:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Events › should record production submit event

    expected 201 "Created", got 404 "Not Found"

      254 |           payload: { text: 'My notes on testing' },
      255 |         })
    > 256 |         .expect(201);
          |          ^
      257 |       
      258 |       expect(response.body.eventType).toBe('PRODUCTION_SUBMIT');
      259 |     });

      at Object.<anonymous> (test/integration/sessions.spec.ts:256:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)


  ● Test suite failed to run

    PrismaClientKnownRequestError: 
    Invalid `prisma.readingSession.deleteMany()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\sessions.spec.ts:90:33

      87 // Cleanup
      88 await prisma.sessionEvent.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
      89 await prisma.sessionOutcome.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
    → 90 await prisma.readingSession.deleteMany(
    Foreign key constraint violated: `legacy_cornell_notes_reading_session_id_fkey (index)`

      88 |     await prisma.sessionEvent.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
      89 |     await prisma.sessionOutcome.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
    > 90 |     await prisma.readingSession.deleteMany({ where: { userId: testUserId } });
         |     ^
      91 |     await prisma.contentChunk.deleteMany({ where: { contentId: testContentId } });
      92 |     await prisma.cornellNote.deleteMany({ where: { userId: testUserId } });
      93 |     await prisma.content.deleteMany({ where: { id: testContentId } });

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/sessions.spec.ts:90:5)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\events\family-event.service.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL test/integration/study-groups.spec.ts (53.109 s)
  ● Study Groups API (Integration) › Groups Management › POST /groups - should create group

    expected 201 "Created", got 404 "Not Found"

       95 |         .set('Authorization', authToken)
       96 |         .send({ name: 'Integration Test Group' })
    >  97 |         .expect(201);
          |          ^
       98 |
       99 |       expect(res.body).toHaveProperty('id');
      100 |       expect(res.body.name).toBe('Integration Test Group');

      at Object.<anonymous> (test/integration/study-groups.spec.ts:97:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › GET /groups - should list user groups

    expected 200 "OK", got 404 "Not Found"

      108 |         .get('/groups')
      109 |         .set('Authorization', authToken)
    > 110 |         .expect(200);
          |          ^
      111 |
      112 |       expect(Array.isArray(res.body)).toBe(true);
      113 |       expect(res.body.length).toBeGreaterThan(0);

      at Object.<anonymous> (test/integration/study-groups.spec.ts:110:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › GET /groups/:groupId - should get group details

    expected 200 "OK", got 404 "Not Found"

      119 |         .get(`/groups/${groupId}`)
      120 |         .set('Authorization', authToken)
    > 121 |         .expect(200);
          |          ^
      122 |
      123 |       expect(res.body.id).toBe(groupId);
      124 |       expect(res.body.name).toBe('Integration Test Group');

      at Object.<anonymous> (test/integration/study-groups.spec.ts:121:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › POST /groups/:groupId/members/invite - should invite member

    expected 201 "Created", got 404 "Not Found"

      147 |         .set('Authorization', authToken)
      148 |         .send({ userId: user2.id, role: 'MEMBER' })
    > 149 |         .expect(201);
          |          ^
      150 |
      151 |       // Verify member was invited
      152 |       const member = await prisma.studyGroupMember.findUnique({

      at Object.<anonymous> (test/integration/study-groups.spec.ts:149:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › POST /groups/:groupId/contents - should add content

    expected 201 "Created", got 404 "Not Found"

      166 |         .set('Authorization', authToken)
      167 |         .send({ contentId })
    > 168 |         .expect(201);
          |          ^
      169 |
      170 |       // Verify content was added
      171 |       const groupContent = await prisma.groupContent.findUnique({

      at Object.<anonymous> (test/integration/study-groups.spec.ts:168:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › DELETE /groups/:groupId/contents/:contentId - should remove content

    PrismaClientKnownRequestError: 
    Invalid `prisma.content.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:180:45

      177 
      178 it('DELETE /groups/:groupId/contents/:contentId - should remove content', async () => {
      179   // Add another content first
    → 180   const content2 = await prisma.content.create(
    Foreign key constraint violated: `contents_owner_user_id_fkey (index)`

      178 |     it('DELETE /groups/:groupId/contents/:contentId - should remove content', async () => {
      179 |       // Add another content first
    > 180 |       const content2 = await prisma.content.create({
          |                        ^
      181 |         data: {
      182 |           title: 'Content 2',
      183 |           type: 'PDF',

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:180:24)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions - should create session

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › GET /group-sessions/:sessionId - should get session details

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › PUT /group-sessions/:sessionId/start - should start session

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions/:sessionId/events - should submit vote

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions/:sessionId/rounds/:roundIndex/advance - should block with 409 if incomplete

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions/:sessionId/rounds/:roundIndex/advance - should advance after all vote

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › GET /group-sessions/:sessionId/events - should get events

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › GET /group-sessions/:sessionId/shared-cards - should get shared cards

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Permission Tests › should reject unauthorized access (no token)

    expected 401 "Unauthorized", got 404 "Not Found"

      392 |       await request(app.getHttpServer())
      393 |         .get('/groups')
    > 394 |         .expect(401);
          |          ^
      395 |     });
      396 |
      397 |     it('should reject MEMBER trying to invite', async () => {

      at Object.<anonymous> (test/integration/study-groups.spec.ts:394:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Permission Tests › should reject MEMBER trying to invite

    PrismaClientKnownRequestError: 
    Invalid `prisma.user.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:399:44

      396 
      397 it('should reject MEMBER trying to invite', async () => {
      398   // Create a MEMBER user
    → 399   const memberUser = await prisma.user.create(
    Unique constraint failed on the fields: (`email`)

      397 |     it('should reject MEMBER trying to invite', async () => {
      398 |       // Create a MEMBER user
    > 399 |       const memberUser = await prisma.user.create({
          |                          ^
      400 |         data: {
      401 |           email: 'member-only@example.com',
      402 |           name: 'Member Only',

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:399:26)

  ● Study Groups API (Integration) › Permission Tests › should reject expired JWT token

    expected 401 "Unauthorized", got 404 "Not Found"

      447 |         .get('/groups')
      448 |         .set('Authorization', `Bearer ${expiredToken}`)
    > 449 |         .expect(401);
          |          ^
      450 |     });
      451 |
      452 |     it('should reject invalid JWT token', async () => {

      at Object.<anonymous> (test/integration/study-groups.spec.ts:449:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Permission Tests › should reject invalid JWT token

    expected 401 "Unauthorized", got 404 "Not Found"

      454 |         .get('/groups')
      455 |         .set('Authorization', 'Bearer invalid-token-12345')
    > 456 |         .expect(401);
          |          ^
      457 |     });
      458 |   });
      459 | });

      at Object.<anonymous> (test/integration/study-groups.spec.ts:456:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)


  ● Test suite failed to run

    PrismaClientKnownRequestError: 
    Invalid `prisma.user.delete()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:86:29

      83   await prisma.studyGroup.delete({ where: { id: groupId } });
      84 }
      85 await prisma.content.delete({ where: { id: contentId } });
    → 86 await prisma.user.delete(
    An operation failed because it depends on one or more records that were required but not found. Record to delete does not exist.

      84 |     }
      85 |     await prisma.content.delete({ where: { id: contentId } });
    > 86 |     await prisma.user.delete({ where: { id: userId } });
         |     ^
      87 |
      88 |     await app.close();
      89 |   });

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:86:5)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\classroom-privacy-guard.service.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\privacy\family-privacy-guard.service.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
PASS dist/src/family/services/family-policy.service.spec.js
FAIL dist/src/events/family-event.service.spec.js
  ● FamilyEventService › logPolicySet › should persist FAMILY_POLICY_SET event

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

    @@ -1,7 +1,8 @@
      Object {
        "data": Object {
    +     "eventType": "FAMILY_POLICY_SET",
          "payloadJson": Object {
            "data": Object {
              "householdId": "hh_123",
              "learnerUserId": "user_456",
              "policy": Object {
    @@ -19,10 +20,8 @@
              },
            },
            "domain": "FAMILY",
            "type": "FAMILY_POLICY_SET",
          },
    -     "sessionId": "session_1",
    -     "timestamp": Any<Date>,
    -     "userId": "user_456",
    +     "readingSessionId": "session_1",
        },
      },

    Number of calls: 1

      71 |
      72 |       expect(result).toBeDefined();
    > 73 |       expect(mockPrismaService.sessionEvent.create).toHaveBeenCalledWith({
         |                                                     ^
      74 |         data: {
      75 |           sessionId: 'session_1',
      76 |           userId: 'user_456',

      at Object.<anonymous> (src/events/family-event.service.spec.ts:73:53)

  ● FamilyEventService › getSessionEvents › should query FAMILY events for a session

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

      Object {
        "orderBy": Object {
    -     "timestamp": "asc",
    +     "createdAt": "asc",
        },
        "where": Object {
          "payloadJson": Object {
            "equals": "FAMILY",
            "path": Array [
              "domain",
            ],
          },
    -     "sessionId": "session_1",
    +     "readingSessionId": "session_1",
        },
      },

    Number of calls: 1

      133 |
      134 |       expect(events).toHaveLength(1);
    > 135 |       expect(mockPrismaService.sessionEvent.findMany).toHaveBeenCalledWith({
          |                                                       ^
      136 |         where: {
      137 |           sessionId: 'session_1',
      138 |           payloadJson: {

      at Object.<anonymous> (src/events/family-event.service.spec.ts:135:55)

PASS dist/src/privacy/family-privacy-guard.service.spec.js
PASS dist/src/privacy/classroom-privacy-guard.service.spec.js
FAIL dist/test/integration/review-srs.spec.js (55.101 s)
  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should return empty queue when no due items

    expected 200 "OK", got 404 "Not Found"

      90 |         .get(apiUrl('review/queue'))
      91 |         .set('Authorization', authToken)
    > 92 |         .expect(200);
         |          ^
      93 |       
      94 |       expect(response.body).toEqual([]);
      95 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:92:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should return due vocabulary items

    expected 200 "OK", got 404 "Not Found"

      111 |         .get(apiUrl('review/queue'))
      112 |         .set('Authorization', authToken)
    > 113 |         .expect(200);
          |          ^
      114 |       
      115 |       expect(response.body.length).toBeGreaterThan(0);
      116 |       expect(response.body[0].word).toBe('test');

      at Object.<anonymous> (test/integration/review-srs.spec.ts:113:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should NOT return future items

    expected 200 "OK", got 404 "Not Found"

      133 |         .get(apiUrl('review/queue'))
      134 |         .set('Authorization', authToken)
    > 135 |         .expect(200);
          |          ^
      136 |       
      137 |       expect(response.body).toEqual([]);
      138 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:135:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should respect daily review cap

    expected 200 "OK", got 404 "Not Found"

      160 |         .get(apiUrl('review/queue'))
      161 |         .set('Authorization', authToken)
    > 162 |         .expect(200);
          |          ^
      163 |       
      164 |       expect(response.body.length).toBeLessThanOrEqual(20);
      165 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:162:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should transition NEW + OK -> D1

    expected 200 "OK", got 404 "Not Found"

      192 |           result: 'OK',
      193 |         })
    > 194 |         .expect(200);
          |          ^
      195 |       
      196 |       expect(response.body.srsStage).toBe('D1');
      197 |       expect(response.body.dueAt).toBeDefined();

      at Object.<anonymous> (test/integration/review-srs.spec.ts:194:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should transition with FAIL -> D1 (reset)

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:173:49

      170 
      171 beforeEach(async () => {
      172   // Create fresh vocab item
    → 173   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      171 |     beforeEach(async () => {
      172 |       // Create fresh vocab item
    > 173 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      174 |         data: {
      175 |           userId: testUserId,
      176 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:173:21)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should update due date correctly for D30

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:173:49

      170 
      171 beforeEach(async () => {
      172   // Create fresh vocab item
    → 173   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      171 |     beforeEach(async () => {
      172 |       // Create fresh vocab item
    > 173 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      174 |         data: {
      175 |           userId: testUserId,
      176 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:173:21)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should record attempt in history

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:173:49

      170 
      171 beforeEach(async () => {
      172   // Create fresh vocab item
    → 173   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      171 |     beforeEach(async () => {
      172 |       // Create fresh vocab item
    > 173 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      174 |         data: {
      175 |           userId: testUserId,
      176 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:173:21)

  ● Review & SRS Integration Tests › SRS Edge Cases › should keep MASTERED on OK

    expected 200 "OK", got 404 "Not Found"

      292 |           result: 'OK',
      293 |         })
    > 294 |         .expect(200);
          |          ^
      295 |       
      296 |       expect(response.body.srsStage).toBe('MASTERED');
      297 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:294:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › SRS Edge Cases › should regress MASTERED on FAIL

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:273:49

      270 let vocabId: string;
      271 
      272 beforeEach(async () => {
    → 273   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      271 |     
      272 |     beforeEach(async () => {
    > 273 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      274 |         data: {
      275 |           userId: testUserId,
      276 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:273:21)

PASS src/state-machine/co-reading-state-machine.service.spec.ts
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\e2e\study-groups\group-management.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL test/integration/cornell.spec.ts (56.013 s)
  ● Cornell Notes Integration Tests › GET /contents/:id/cornell - Auto-create › should create empty Cornell notes on first GET

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › GET /contents/:id/cornell - Auto-create › should return existing Cornell notes on subsequent GET

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save main notes

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save cue column

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save summary text

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save all fields together

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Persistence › should persist changes across GET requests

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Persistence › should update existing notes without losing data

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Validation › should reject invalid mainNotes format

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Validation › should allow empty cornell notes

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\e2e\content\upload.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
PASS src/family/services/family-policy.service.spec.ts
FAIL dist/test/integration/family-primary.integration.spec.js (56.541 s)
  ● Console

    console.error
      Login failed for user1-fresh@primary-test.com {
        message: 'Invalid credentials',
        error: 'Unauthorized',
        statusCode: 401
      }

      58 |
      59 |     if (login.status !== 200 && login.status !== 201) {
    > 60 |       console.error('Login failed for', email, login.body);
         |               ^
      61 |     }
      62 |
      63 |     return {

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:60:15)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:71:33)

    console.error
      Login failed for user2@primary-test.com {
        message: 'Invalid credentials',
        error: 'Unauthorized',
        statusCode: 401
      }

      58 |
      59 |     if (login.status !== 200 && login.status !== 201) {
    > 60 |       console.error('Login failed for', email, login.body);
         |               ^
      61 |     }
      62 |
      63 |     return {

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:60:15)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:89:33)

    console.error
      Login failed for owner-dep1766406697215@primary-test.com {
        message: 'Invalid credentials',
        error: 'Unauthorized',
        statusCode: 401
      }

      58 |
      59 |     if (login.status !== 200 && login.status !== 201) {
    > 60 |       console.error('Login failed for', email, login.body);
         |               ^
      61 |     }
      62 |
      63 |     return {

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:60:15)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:128:25)

    console.error
      Login failed for owner-dep1766406700856@primary-test.com {
        message: 'Invalid credentials',
        error: 'Unauthorized',
        statusCode: 401
      }

      58 |
      59 |     if (login.status !== 200 && login.status !== 201) {
    > 60 |       console.error('Login failed for', email, login.body);
         |               ^
      61 |     }
      62 |
      63 |     return {

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:60:15)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:128:25)

  ● Primary Family Logic (Integration) › Auto-Primary on Creation › should set primaryFamilyId in database when creating FIRST family

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:71:33)

  ● Primary Family Logic (Integration) › Auto-Primary on Creation › should switch Primary when creating SECOND family (Creation Priority)

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:89:33)

  ● Primary Family Logic (Integration) › Auto-Primary on Invites › should set Primary on FIRST invite acceptance

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:128:25)

  ● Primary Family Logic (Integration) › Auto-Primary on Invites › should NOT change Primary on SECOND invite acceptance

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:128:25)

FAIL test/integration/review-srs.spec.ts (56.602 s)
  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should return empty queue when no due items

    expected 200 "OK", got 404 "Not Found"

      90 |         .get(apiUrl('review/queue'))
      91 |         .set('Authorization', authToken)
    > 92 |         .expect(200);
         |          ^
      93 |       
      94 |       expect(response.body).toEqual([]);
      95 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:92:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should return due vocabulary items

    expected 200 "OK", got 404 "Not Found"

      111 |         .get(apiUrl('review/queue'))
      112 |         .set('Authorization', authToken)
    > 113 |         .expect(200);
          |          ^
      114 |       
      115 |       expect(response.body.length).toBeGreaterThan(0);
      116 |       expect(response.body[0].word).toBe('test');

      at Object.<anonymous> (test/integration/review-srs.spec.ts:113:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should NOT return future items

    expected 200 "OK", got 404 "Not Found"

      133 |         .get(apiUrl('review/queue'))
      134 |         .set('Authorization', authToken)
    > 135 |         .expect(200);
          |          ^
      136 |       
      137 |       expect(response.body).toEqual([]);
      138 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:135:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should respect daily review cap

    expected 200 "OK", got 404 "Not Found"

      160 |         .get(apiUrl('review/queue'))
      161 |         .set('Authorization', authToken)
    > 162 |         .expect(200);
          |          ^
      163 |       
      164 |       expect(response.body.length).toBeLessThanOrEqual(20);
      165 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:162:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should transition NEW + OK -> D1

    expected 200 "OK", got 404 "Not Found"

      192 |           result: 'OK',
      193 |         })
    > 194 |         .expect(200);
          |          ^
      195 |       
      196 |       expect(response.body.srsStage).toBe('D1');
      197 |       expect(response.body.dueAt).toBeDefined();

      at Object.<anonymous> (test/integration/review-srs.spec.ts:194:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should transition with FAIL -> D1 (reset)

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:173:49

      170 
      171 beforeEach(async () => {
      172   // Create fresh vocab item
    → 173   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      171 |     beforeEach(async () => {
      172 |       // Create fresh vocab item
    > 173 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      174 |         data: {
      175 |           userId: testUserId,
      176 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:173:21)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should update due date correctly for D30

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:173:49

      170 
      171 beforeEach(async () => {
      172   // Create fresh vocab item
    → 173   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      171 |     beforeEach(async () => {
      172 |       // Create fresh vocab item
    > 173 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      174 |         data: {
      175 |           userId: testUserId,
      176 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:173:21)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should record attempt in history

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:173:49

      170 
      171 beforeEach(async () => {
      172   // Create fresh vocab item
    → 173   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      171 |     beforeEach(async () => {
      172 |       // Create fresh vocab item
    > 173 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      174 |         data: {
      175 |           userId: testUserId,
      176 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:173:21)

  ● Review & SRS Integration Tests › SRS Edge Cases › should keep MASTERED on OK

    expected 200 "OK", got 404 "Not Found"

      292 |           result: 'OK',
      293 |         })
    > 294 |         .expect(200);
          |          ^
      295 |       
      296 |       expect(response.body.srsStage).toBe('MASTERED');
      297 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:294:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › SRS Edge Cases › should regress MASTERED on FAIL

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:273:49

      270 let vocabId: string;
      271 
      272 beforeEach(async () => {
    → 273   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      271 |     
      272 |     beforeEach(async () => {
    > 273 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      274 |         data: {
      275 |           userId: testUserId,
      276 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:273:21)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\src\prompts\prompt-library.service.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL dist/test/integration/family.spec.js (56.767 s)
  ● Family Plan (Integration) › Authentication Setup › should register and login owner user

    expected 201 "Created", got 404 "Not Found"

      55 |           schoolingLevel: 'UNDERGRADUATE',
      56 |         })
    > 57 |         .expect(201);
         |          ^
      58 |
      59 |       // Login
      60 |       const loginResponse = await request(app.getHttpServer())

      at Object.<anonymous> (test/integration/family.spec.ts:57:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families › should create family with current user as owner

    expected 201 "Created", got 401 "Unauthorized"

      81 |           name: 'Test Family',
      82 |         })
    > 83 |         .expect(201);
         |          ^
      84 |
      85 |       familyId = response.body.id;
      86 |

      at Object.<anonymous> (test/integration/family.spec.ts:83:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families › should create owner membership record

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 0
    Received array:  []

       96 |       });
       97 |
    >  98 |       expect(members).toHaveLength(1);
          |                       ^
       99 |       expect(members[0]).toMatchObject({
      100 |         userId: ownerUserId,
      101 |         role: 'OWNER',

      at Object.<anonymous> (test/integration/family.spec.ts:98:23)

  ● Family Plan (Integration) › POST /families › should return family with members array

    expected 200 "OK", got 401 "Unauthorized"

      108 |         .get(apiUrl(ROUTES.FAMILY.BY_ID(familyId)))
      109 |         .set('Authorization', `Bearer ${authToken}`)
    > 110 |         .expect(200);
          |          ^
      111 |
      112 |       expect(response.body.members).toBeDefined();
      113 |       expect(response.body.members).toHaveLength(1);

      at Object.<anonymous> (test/integration/family.spec.ts:110:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › GET /families › should list all families user belongs to

    expected 200 "OK", got 401 "Unauthorized"

      121 |         .get(apiUrl(ROUTES.FAMILY.BASE))
      122 |         .set('Authorization', `Bearer ${authToken}`)
    > 123 |         .expect(200);
          |          ^
      124 |
      125 |       expect(response.body).toHaveLength(1);
      126 |       expect(response.body[0].name).toBe('Test Family');

      at Object.<anonymous> (test/integration/family.spec.ts:123:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should add existing user as GUARDIAN

    expected 201 "Created", got 404 "Not Found"

      140 |           schoolingLevel: 'UNDERGRADUATE',
      141 |         })
    > 142 |         .expect(201);
          |          ^
      143 |
      144 |       const response = await request(app.getHttpServer())
      145 |         .post(apiUrl(ROUTES.FAMILY.INVITE(familyId)))

      at Object.<anonymous> (test/integration/family.spec.ts:142:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should create placeholder user for new email

    expected 201 "Created", got 401 "Unauthorized"

      180 |           role: 'CHILD',
      181 |         })
    > 182 |         .expect(201);
          |          ^
      183 |
      184 |       // expect(response.body.message).toContain('invited'); // Controllers return data directly
      185 |

      at Object.<anonymous> (test/integration/family.spec.ts:182:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should reject duplicate invitations

    expected 409 "Conflict", got 401 "Unauthorized"

      202 |           role: 'GUARDIAN',
      203 |         })
    > 204 |         .expect(409);
          |          ^
      205 |     });
      206 |
      207 |     it('should only allow owner to invite members', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:204:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should only allow owner to invite members

    expected 403 "Forbidden", got 401 "Unauthorized"

      233 |           role: 'CHILD',
      234 |         })
    > 235 |         .expect(403);
          |          ^
      236 |     });
      237 |   });
      238 |

      at Object.<anonymous> (test/integration/family.spec.ts:235:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/transfer-ownership › should transfer ownership to existing member

    TypeError: Cannot read properties of null (reading 'id')

      244 |         where: { email: 'existing@family-test.com' },
      245 |       });
    > 246 |       memberUserId = existingUser.id;
          |                                   ^
      247 |     });
      248 |
      249 |     it('should transfer ownership to existing member', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:246:35)

  ● Family Plan (Integration) › POST /families/:id/transfer-ownership › should prevent non-owner from transferring

    TypeError: Cannot read properties of null (reading 'id')

      244 |         where: { email: 'existing@family-test.com' },
      245 |       });
    > 246 |       memberUserId = existingUser.id;
          |                                   ^
      247 |     });
      248 |
      249 |     it('should transfer ownership to existing member', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:246:35)

  ● Family Plan (Integration) › POST /families/:id/primary › should set family as primary for user

    expected 201 "Created", got 401 "Unauthorized"

      316 |         .post(apiUrl(ROUTES.FAMILY.SET_PRIMARY(familyId)))
      317 |         .set('Authorization', `Bearer ${authToken}`)
    > 318 |         .expect(201);
          |          ^
      319 |
      320 |       // expect(response.body.message).toContain('primary'); // Controllers return data directly
      321 |

      at Object.<anonymous> (test/integration/family.spec.ts:318:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/primary › should only allow family members to set as primary

    expected 403 "Forbidden", got 401 "Unauthorized"

      349 |         .post(apiUrl(ROUTES.FAMILY.SET_PRIMARY(familyId)))
      350 |         .set('Authorization', `Bearer ${outsiderLogin.body.access_token}`)
    > 351 |         .expect(403);
          |          ^
      352 |     });
      353 |   });
      354 |

      at Object.<anonymous> (test/integration/family.spec.ts:351:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › DELETE /families/:id › should delete family and all members

    expected 200 "OK", got 401 "Unauthorized"

      400 |         .delete(apiUrl(ROUTES.FAMILY.BY_ID(tempFamilyId)))
      401 |         .set('Authorization', `Bearer ${authToken}`)
    > 402 |         .expect(200);
          |          ^
      403 |
      404 |       // Verify family deleted
      405 |       const family = await prisma.family.findUnique({

      at Object.<anonymous> (test/integration/family.spec.ts:402:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › DELETE /families/:id › should only allow owner to delete family

    expected 403 "Forbidden", got 401 "Unauthorized"

      426 |         .delete(apiUrl(ROUTES.FAMILY.BY_ID(familyId)))
      427 |         .set('Authorization', `Bearer ${newOwnerLogin.body.access_token}`)
    > 428 |         .expect(403);
          |          ^
      429 |     });
      430 |
      431 |     it('should return 404 if family does not exist', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:428:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › DELETE /families/:id › should return 404 if family does not exist

    expected 404 "Not Found", got 401 "Unauthorized"

      433 |         .delete(apiUrl(ROUTES.FAMILY.BY_ID('non-existent-id')))
      434 |         .set('Authorization', `Bearer ${authToken}`)
    > 435 |         .expect(404);
          |          ^
      436 |     });
      437 |   });
      438 |

      at Object.<anonymous> (test/integration/family.spec.ts:435:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › Multi-Family Scenarios › should create second family

    expected 201 "Created", got 401 "Unauthorized"

      447 |           name: 'Second Family',
      448 |         })
    > 449 |         .expect(201);
          |          ^
      450 |
      451 |       secondFamilyId = response.body.id;
      452 |       expect(response.body.name).toBe('Second Family');

      at Object.<anonymous> (test/integration/family.spec.ts:449:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › Multi-Family Scenarios › should list both families

    expected 200 "OK", got 401 "Unauthorized"

      457 |         .get(apiUrl(ROUTES.FAMILY.BASE))
      458 |         .set('Authorization', `Bearer ${authToken}`)
    > 459 |         .expect(200);
          |          ^
      460 |
      461 |       expect(response.body.length).toBeGreaterThanOrEqual(2);
      462 |       const familyNames = response.body.map(f => f.name);

      at Object.<anonymous> (test/integration/family.spec.ts:459:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › Multi-Family Scenarios › should switch primary family

    expected 201 "Created", got 401 "Unauthorized"

      469 |         .post(apiUrl(ROUTES.FAMILY.SET_PRIMARY(secondFamilyId)))
      470 |         .set('Authorization', `Bearer ${authToken}`)
    > 471 |         .expect(201);
          |          ^
      472 |
      473 |       const user = await prisma.user.findUnique({
      474 |         where: { id: ownerUserId },

      at Object.<anonymous> (test/integration/family.spec.ts:471:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)


  ● Test suite failed to run

    expected 201 "Created", got 401 "Unauthorized"

      307 |           newOwnerId: ownerUserId,
      308 |         })
    > 309 |         .expect(201);
          |          ^
      310 |     });
      311 |   });
      312 |

      at Object.<anonymous> (test/integration/family.spec.ts:309:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

FAIL test/integration/family-primary.integration.spec.ts (56.906 s)
  ● Console

    console.error
      Login failed for user1-fresh@primary-test.com {
        message: 'Invalid credentials',
        error: 'Unauthorized',
        statusCode: 401
      }

      58 |
      59 |     if (login.status !== 200 && login.status !== 201) {
    > 60 |       console.error('Login failed for', email, login.body);
         |               ^
      61 |     }
      62 |
      63 |     return {

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:60:15)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:71:33)

    console.error
      Login failed for user2@primary-test.com {
        message: 'Invalid credentials',
        error: 'Unauthorized',
        statusCode: 401
      }

      58 |
      59 |     if (login.status !== 200 && login.status !== 201) {
    > 60 |       console.error('Login failed for', email, login.body);
         |               ^
      61 |     }
      62 |
      63 |     return {

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:60:15)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:89:33)

    console.error
      Login failed for owner-dep1766406700497@primary-test.com {
        message: 'Invalid credentials',
        error: 'Unauthorized',
        statusCode: 401
      }

      58 |
      59 |     if (login.status !== 200 && login.status !== 201) {
    > 60 |       console.error('Login failed for', email, login.body);
         |               ^
      61 |     }
      62 |
      63 |     return {

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:60:15)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:128:25)

    console.error
      Login failed for owner-dep1766406701059@primary-test.com {
        message: 'Invalid credentials',
        error: 'Unauthorized',
        statusCode: 401
      }

      58 |
      59 |     if (login.status !== 200 && login.status !== 201) {
    > 60 |       console.error('Login failed for', email, login.body);
         |               ^
      61 |     }
      62 |
      63 |     return {

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:60:15)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:128:25)

  ● Primary Family Logic (Integration) › Auto-Primary on Creation › should set primaryFamilyId in database when creating FIRST family

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:71:33)

  ● Primary Family Logic (Integration) › Auto-Primary on Creation › should switch Primary when creating SECOND family (Creation Priority)

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:89:33)

  ● Primary Family Logic (Integration) › Auto-Primary on Invites › should set Primary on FIRST invite acceptance

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:128:25)

  ● Primary Family Logic (Integration) › Auto-Primary on Invites › should NOT change Primary on SECOND invite acceptance

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:128:25)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\institutions\institutions.controller.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\test\e2e\content\cornell-reader.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL test/integration/annotations.integration.spec.ts (26.377 s)
  ● Annotations Integration Tests › POST /contents/:contentId/annotations › should create a highlight annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › POST /contents/:contentId/annotations › should create a note annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › POST /contents/:contentId/annotations › should create a group annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › GET /contents/:contentId/annotations › should return all annotations for content

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › GET /contents/:contentId/annotations › should filter by groupId

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › PUT /contents/:contentId/annotations/:id › should update annotation text

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › DELETE /contents/:contentId/annotations/:id › should delete annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)


  ● Test suite failed to run

    PrismaClientValidationError: 
    Invalid `prisma.content.delete()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\annotations.integration.spec.ts:65:32

      62 await prisma.annotation.deleteMany({
      63   where: { contentId: testContentId },
      64 });
    → 65 await prisma.content.delete({
           where: {
             id: undefined,
         ?   AND?: ContentWhereInput | ContentWhereInput[],
         ?   OR?: ContentWhereInput[],
         ?   NOT?: ContentWhereInput | ContentWhereInput[],
         ?   institutionId?: StringNullableFilter | String | Null,
         ?   type?: EnumContentTypeFilter | ContentType,
         ?   sourceId?: StringNullableFilter | String | Null,
         ?   title?: StringFilter | String,
         ?   originalLanguage?: EnumLanguageFilter | Language,
         ?   rawText?: StringFilter | String,
         ?   metadata?: JsonNullableFilter,
         ?   createdBy?: StringNullableFilter | String | Null,
         ?   createdAt?: DateTimeFilter | DateTime,
         ?   updatedAt?: DateTimeFilter | DateTime,
         ?   scopeType?: EnumScopeTypeFilter | ScopeType,
         ?   familyId?: StringNullableFilter | String | Null,
         ?   fileId?: StringNullableFilter | String | Null,
         ?   languageGuess?: StringNullableFilter | String | Null,
         ?   ownerUserId?: StringNullableFilter | String | Null,
         ?   scopeId?: StringNullableFilter | String | Null,
         ?   sourceUrl?: StringNullableFilter | String | Null,
         ?   family?: FamilyNullableRelationFilter | FamilyWhereInput | Null,
         ?   assessments?: AssessmentListRelationFilter,
         ?   extractions?: ContentExtractionListRelationFilter,
         ?   versions?: ContentVersionListRelationFilter,
         ?   creator?: UserNullableRelationFilter | UserWhereInput | Null,
         ?   file?: FileNullableRelationFilter | FileWhereInput | Null,
         ?   institution?: InstitutionNullableRelationFilter | InstitutionWhereInput | Null,
         ?   ownerUser?: UserNullableRelationFilter | UserWhereInput | Null,
         ?   cornellNotes?: CornellNotesListRelationFilter,
         ?   highlights?: HighlightListRelationFilter,
         ?   chunks?: ContentChunkListRelationFilter,
         ?   learningAssets?: LearningAssetListRelationFilter,
         ?   lessons?: LessonListRelationFilter,
         ?   UserLibraryItem?: UserLibraryItemListRelationFilter,
         ?   ReadingSession?: ReadingSessionListRelationFilter,
         ?   UserVocabulary?: UserVocabularyListRelationFilter,
         ?   groupContents?: GroupContentListRelationFilter,
         ?   groupSessions?: GroupSessionListRelationFilter,
         ?   annotations?: AnnotationListRelationFilter
           }
         })

    Argument `where` of type ContentWhereUniqueInput needs at least one of `id` arguments. Available options are marked with ?.

      63 |       where: { contentId: testContentId },
      64 |     });
    > 65 |     await prisma.content.delete({ where: { id: testContentId } });
         |     ^
      66 |     await prisma.studyGroup.delete({ where: { id: testGroupId } });
      67 |     await app.close();
      68 |   });

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:65:5)

PASS src/privacy/family-privacy-guard.service.spec.ts
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\institutions\institutions.service.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\content\content.controller.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL dist/src/prompts/prompt-library.service.spec.js
  ● PromptLibraryService › getPrompt › should interpolate variables in quickReplies

    expect(received).toContain(expected) // indexOf

    Expected substring: "História do Brasil"
    Received string:    "Sim, começar"

      41 |         MIN: 20,
      42 |       });
    > 43 |       expect(prompt.quickReplies[0]).toContain('História do Brasil');
         |                                      ^
      44 |       expect(prompt.quickReplies[0]).toContain('20 min');
      45 |     });
      46 |

      at Object.<anonymous> (src/prompts/prompt-library.service.spec.ts:43:38)

FAIL dist/test/integration/family-mode.integration.spec.js (16.201 s)
  ● Family Mode Integration Tests (e2e) › Family Policy Flow › should create a family policy

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      46 |         });
      47 |
    > 48 |       expect(response.status).toBe(201);
         |                               ^
      49 |       expect(response.body).toHaveProperty('id');
      50 |       expect(response.body.timeboxDefaultMin).toBe(20);
      51 |       

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:48:31)

  ● Family Mode Integration Tests (e2e) › Family Policy Flow › should get policy confirmation prompt

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      60 |         .set('Authorization', `Bearer ${authToken}`);
      61 |
    > 62 |       expect(response.status).toBe(201);
         |                               ^
      63 |       expect(response.body).toHaveProperty('nextPrompt');
      64 |       expect(response.body.nextPrompt).toContain('20 min');
      65 |     });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:62:31)

  ● Family Mode Integration Tests (e2e) › Family Policy Flow › should get educator dashboard with privacy filtering

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      70 |         .set('Authorization', `Bearer ${authToken}`);
      71 |
    > 72 |       expect(response.status).toBe(200);
         |                               ^
      73 |       expect(response.body).toHaveProperty('streakDays');
      74 |       expect(response.body).toHaveProperty('minutesTotal');
      75 |       expect(response.body).toHaveProperty('comprehensionAvg');

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:72:31)

  ● Family Mode Integration Tests (e2e) › Co-Reading Session Flow › should start co-reading session

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      93 |         });
      94 |
    > 95 |       expect(response.status).toBe(201);
         |                               ^
      96 |       expect(response.body).toHaveProperty('coSession');
      97 |       expect(response.body).toHaveProperty('context');
      98 |       expect(response.body.context.currentPhase).toBe('BOOT');

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:95:31)

  ● Family Mode Integration Tests (e2e) › Co-Reading Session Flow › should get co-session prompt by phase

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      105 |         .send({ phase: 'PRE' });
      106 |
    > 107 |       expect(response.status).toBe(201);
          |                               ^
      108 |       expect(response.body).toHaveProperty('nextPrompt');
      109 |     });
      110 |   });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:107:31)

  ● Family Mode Integration Tests (e2e) › Teach-Back Session Flow › should start teach-back session

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      123 |         });
      124 |
    > 125 |       expect(response.status).toBe(201);
          |                               ^
      126 |       expect(response.body).toHaveProperty('session');
      127 |       expect(response.body.session.type).toBe('TEACH_BACK');
      128 |     });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:125:31)

  ● Family Mode Integration Tests (e2e) › Teach-Back Session Flow › should get teach-back prompts by step

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      134 |         .send({ step: 2 });
      135 |
    > 136 |       expect(response.status).toBe(201);
          |                               ^
      137 |       expect(response.body).toHaveProperty('nextPrompt');
      138 |     });
      139 |

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:136:31)

  ● Family Mode Integration Tests (e2e) › Teach-Back Session Flow › should finish teach-back with stars

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      144 |         .send({ stars: 3 });
      145 |
    > 146 |       expect(response.status).toBe(201);
          |                               ^
      147 |       expect(response.body).toHaveProperty('nextPrompt');
      148 |       expect(response.body.nextPrompt).toContain('3 estrelas');
      149 |     });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:146:31)

FAIL dist/test/integration/extension-auth.integration.spec.js (6.853 s)
  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should start device code flow

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      78 |         });
      79 |
    > 80 |       expect(response.status).toBe(201);
         |                               ^
      81 |       expect(response.body).toHaveProperty('deviceCode');
      82 |       expect(response.body).toHaveProperty('userCode');
      83 |       expect(response.body).toHaveProperty('verificationUrl');

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:80:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should return PENDING when polling immediately

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

       95 |         });
       96 |
    >  97 |       expect(response.status).toBe(201);
          |                               ^
       98 |       expect(response.body.status).toBe('PENDING');
       99 |     });
      100 |

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:97:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should approve device code (as logged in user)

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      108 |         });
      109 |
    > 110 |       expect(response.status).toBe(201);
          |                               ^
      111 |       expect(response.body.ok).toBe(true);
      112 |     });
      113 |

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:110:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should return APPROVED and tokens when polling after approval

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      120 |         });
      121 |
    > 122 |       expect(response.status).toBe(201);
          |                               ^
      123 |       expect(response.body.status).toBe('APPROVED');
      124 |       expect(response.body).toHaveProperty('accessToken');
      125 |       expect(response.body).toHaveProperty('refreshToken');

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:122:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should use extension token to access protected endpoint

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      136 |         .set('Authorization', `Bearer ${accessToken}`);
      137 |
    > 138 |       expect(response.status).toBe(200);
          |                               ^
      139 |       expect(response.body.userId).toBe(userId);
      140 |     });
      141 |

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:138:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should refresh token

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      145 |         .send({ refreshToken });
      146 |
    > 147 |       expect(response.status).toBe(201);
          |                               ^
      148 |       expect(response.body).toHaveProperty('accessToken');
      149 |       
      150 |       // Old token should still be valid until expiry, but let's just check we got a new one

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:147:31)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\assessment\assessment.controller.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\institutions\institutions.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
PASS dist/institutions/institutions.controller.spec.js
FAIL test/integration/family.spec.ts (57.99 s)
  ● Family Plan (Integration) › Authentication Setup › should register and login owner user

    expected 201 "Created", got 404 "Not Found"

      55 |           schoolingLevel: 'UNDERGRADUATE',
      56 |         })
    > 57 |         .expect(201);
         |          ^
      58 |
      59 |       // Login
      60 |       const loginResponse = await request(app.getHttpServer())

      at Object.<anonymous> (test/integration/family.spec.ts:57:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families › should create family with current user as owner

    expected 201 "Created", got 401 "Unauthorized"

      81 |           name: 'Test Family',
      82 |         })
    > 83 |         .expect(201);
         |          ^
      84 |
      85 |       familyId = response.body.id;
      86 |

      at Object.<anonymous> (test/integration/family.spec.ts:83:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families › should create owner membership record

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 0
    Received array:  []

       96 |       });
       97 |
    >  98 |       expect(members).toHaveLength(1);
          |                       ^
       99 |       expect(members[0]).toMatchObject({
      100 |         userId: ownerUserId,
      101 |         role: 'OWNER',

      at Object.<anonymous> (test/integration/family.spec.ts:98:23)

  ● Family Plan (Integration) › POST /families › should return family with members array

    expected 200 "OK", got 401 "Unauthorized"

      108 |         .get(apiUrl(ROUTES.FAMILY.BY_ID(familyId)))
      109 |         .set('Authorization', `Bearer ${authToken}`)
    > 110 |         .expect(200);
          |          ^
      111 |
      112 |       expect(response.body.members).toBeDefined();
      113 |       expect(response.body.members).toHaveLength(1);

      at Object.<anonymous> (test/integration/family.spec.ts:110:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › GET /families › should list all families user belongs to

    expected 200 "OK", got 401 "Unauthorized"

      121 |         .get(apiUrl(ROUTES.FAMILY.BASE))
      122 |         .set('Authorization', `Bearer ${authToken}`)
    > 123 |         .expect(200);
          |          ^
      124 |
      125 |       expect(response.body).toHaveLength(1);
      126 |       expect(response.body[0].name).toBe('Test Family');

      at Object.<anonymous> (test/integration/family.spec.ts:123:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should add existing user as GUARDIAN

    expected 201 "Created", got 404 "Not Found"

      140 |           schoolingLevel: 'UNDERGRADUATE',
      141 |         })
    > 142 |         .expect(201);
          |          ^
      143 |
      144 |       const response = await request(app.getHttpServer())
      145 |         .post(apiUrl(ROUTES.FAMILY.INVITE(familyId)))

      at Object.<anonymous> (test/integration/family.spec.ts:142:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should create placeholder user for new email

    expected 201 "Created", got 401 "Unauthorized"

      180 |           role: 'CHILD',
      181 |         })
    > 182 |         .expect(201);
          |          ^
      183 |
      184 |       // expect(response.body.message).toContain('invited'); // Controllers return data directly
      185 |

      at Object.<anonymous> (test/integration/family.spec.ts:182:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should reject duplicate invitations

    expected 409 "Conflict", got 401 "Unauthorized"

      202 |           role: 'GUARDIAN',
      203 |         })
    > 204 |         .expect(409);
          |          ^
      205 |     });
      206 |
      207 |     it('should only allow owner to invite members', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:204:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should only allow owner to invite members

    expected 403 "Forbidden", got 401 "Unauthorized"

      233 |           role: 'CHILD',
      234 |         })
    > 235 |         .expect(403);
          |          ^
      236 |     });
      237 |   });
      238 |

      at Object.<anonymous> (test/integration/family.spec.ts:235:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/transfer-ownership › should transfer ownership to existing member

    TypeError: Cannot read properties of null (reading 'id')

      244 |         where: { email: 'existing@family-test.com' },
      245 |       });
    > 246 |       memberUserId = existingUser.id;
          |                                   ^
      247 |     });
      248 |
      249 |     it('should transfer ownership to existing member', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:246:35)

  ● Family Plan (Integration) › POST /families/:id/transfer-ownership › should prevent non-owner from transferring

    TypeError: Cannot read properties of null (reading 'id')

      244 |         where: { email: 'existing@family-test.com' },
      245 |       });
    > 246 |       memberUserId = existingUser.id;
          |                                   ^
      247 |     });
      248 |
      249 |     it('should transfer ownership to existing member', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:246:35)

  ● Family Plan (Integration) › POST /families/:id/primary › should set family as primary for user

    expected 201 "Created", got 401 "Unauthorized"

      316 |         .post(apiUrl(ROUTES.FAMILY.SET_PRIMARY(familyId)))
      317 |         .set('Authorization', `Bearer ${authToken}`)
    > 318 |         .expect(201);
          |          ^
      319 |
      320 |       // expect(response.body.message).toContain('primary'); // Controllers return data directly
      321 |

      at Object.<anonymous> (test/integration/family.spec.ts:318:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/primary › should only allow family members to set as primary

    expected 403 "Forbidden", got 401 "Unauthorized"

      349 |         .post(apiUrl(ROUTES.FAMILY.SET_PRIMARY(familyId)))
      350 |         .set('Authorization', `Bearer ${outsiderLogin.body.access_token}`)
    > 351 |         .expect(403);
          |          ^
      352 |     });
      353 |   });
      354 |

      at Object.<anonymous> (test/integration/family.spec.ts:351:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › DELETE /families/:id › should delete family and all members

    expected 200 "OK", got 401 "Unauthorized"

      400 |         .delete(apiUrl(ROUTES.FAMILY.BY_ID(tempFamilyId)))
      401 |         .set('Authorization', `Bearer ${authToken}`)
    > 402 |         .expect(200);
          |          ^
      403 |
      404 |       // Verify family deleted
      405 |       const family = await prisma.family.findUnique({

      at Object.<anonymous> (test/integration/family.spec.ts:402:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › DELETE /families/:id › should only allow owner to delete family

    expected 403 "Forbidden", got 401 "Unauthorized"

      426 |         .delete(apiUrl(ROUTES.FAMILY.BY_ID(familyId)))
      427 |         .set('Authorization', `Bearer ${newOwnerLogin.body.access_token}`)
    > 428 |         .expect(403);
          |          ^
      429 |     });
      430 |
      431 |     it('should return 404 if family does not exist', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:428:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › DELETE /families/:id › should return 404 if family does not exist

    expected 404 "Not Found", got 401 "Unauthorized"

      433 |         .delete(apiUrl(ROUTES.FAMILY.BY_ID('non-existent-id')))
      434 |         .set('Authorization', `Bearer ${authToken}`)
    > 435 |         .expect(404);
          |          ^
      436 |     });
      437 |   });
      438 |

      at Object.<anonymous> (test/integration/family.spec.ts:435:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › Multi-Family Scenarios › should create second family

    expected 201 "Created", got 401 "Unauthorized"

      447 |           name: 'Second Family',
      448 |         })
    > 449 |         .expect(201);
          |          ^
      450 |
      451 |       secondFamilyId = response.body.id;
      452 |       expect(response.body.name).toBe('Second Family');

      at Object.<anonymous> (test/integration/family.spec.ts:449:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › Multi-Family Scenarios › should list both families

    expected 200 "OK", got 401 "Unauthorized"

      457 |         .get(apiUrl(ROUTES.FAMILY.BASE))
      458 |         .set('Authorization', `Bearer ${authToken}`)
    > 459 |         .expect(200);
          |          ^
      460 |
      461 |       expect(response.body.length).toBeGreaterThanOrEqual(2);
      462 |       const familyNames = response.body.map(f => f.name);

      at Object.<anonymous> (test/integration/family.spec.ts:459:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › Multi-Family Scenarios › should switch primary family

    expected 201 "Created", got 401 "Unauthorized"

      469 |         .post(apiUrl(ROUTES.FAMILY.SET_PRIMARY(secondFamilyId)))
      470 |         .set('Authorization', `Bearer ${authToken}`)
    > 471 |         .expect(201);
          |          ^
      472 |
      473 |       const user = await prisma.user.findUnique({
      474 |         where: { id: ownerUserId },

      at Object.<anonymous> (test/integration/family.spec.ts:471:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)


  ● Test suite failed to run

    expected 201 "Created", got 401 "Unauthorized"

      307 |           newOwnerId: ownerUserId,
      308 |         })
    > 309 |         .expect(201);
          |          ^
      310 |     });
      311 |   });
      312 |

      at Object.<anonymous> (test/integration/family.spec.ts:309:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\auth\auth.controller.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\content\content.service.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\assessment\assessment.service.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
FAIL dist/test/e2e/study-groups/group-management.spec.js
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Study Groups - Management', () => {
         |      ^
      12 |   let groupId: string;
      13 |
      14 |   test.beforeEach(async ({ page }) => {

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/study-groups/group-management.spec.ts:11:6)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\institutions\institutions.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\users\users.service.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\content\content.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
PASS dist/institutions/institutions.service.spec.js
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\auth\auth.service.spec.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
PASS dist/content/content.controller.spec.js
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\assessment\assessment.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\content\content.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\assessment\assessment.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
PASS dist/content/content.service.spec.js
PASS dist/assessment/assessment.controller.spec.js
PASS dist/assessment/assessment.service.spec.js
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\auth\auth.controller.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
PASS dist/auth/auth.controller.spec.js
FAIL dist/test/e2e/content/upload.spec.js
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

      10 |  */
      11 |
    > 12 | test.describe('Content Upload', () => {
         |      ^
      13 |   test.beforeEach(async ({ page }) => {
      14 |     // Login before each test
      15 |     await loginAs(page, TEST_USERS.facilitator.email);

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/content/upload.spec.ts:12:6)

ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\users\users.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
ts-jest[ts-compiler] (WARN) Got a `.js` file to compile while `allowJs` option is not set to `true` (file: C:\projects\aprendeai-app\services\api\dist\auth\auth.service.js). To fix this:
  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)
  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore
PASS dist/auth/auth.service.spec.js
PASS dist/users/users.service.spec.js
FAIL test/e2e/study-groups/group-management.spec.ts
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Study Groups - Management', () => {
         |      ^
      12 |   let groupId: string;
      13 |
      14 |   test.beforeEach(async ({ page }) => {

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/study-groups/group-management.spec.ts:11:6)

FAIL test/integration/family-mode.integration.spec.ts (14.002 s)
  ● Family Mode Integration Tests (e2e) › Family Policy Flow › should create a family policy

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      46 |         });
      47 |
    > 48 |       expect(response.status).toBe(201);
         |                               ^
      49 |       expect(response.body).toHaveProperty('id');
      50 |       expect(response.body.timeboxDefaultMin).toBe(20);
      51 |       

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:48:31)

  ● Family Mode Integration Tests (e2e) › Family Policy Flow › should get policy confirmation prompt

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      60 |         .set('Authorization', `Bearer ${authToken}`);
      61 |
    > 62 |       expect(response.status).toBe(201);
         |                               ^
      63 |       expect(response.body).toHaveProperty('nextPrompt');
      64 |       expect(response.body.nextPrompt).toContain('20 min');
      65 |     });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:62:31)

  ● Family Mode Integration Tests (e2e) › Family Policy Flow › should get educator dashboard with privacy filtering

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      70 |         .set('Authorization', `Bearer ${authToken}`);
      71 |
    > 72 |       expect(response.status).toBe(200);
         |                               ^
      73 |       expect(response.body).toHaveProperty('streakDays');
      74 |       expect(response.body).toHaveProperty('minutesTotal');
      75 |       expect(response.body).toHaveProperty('comprehensionAvg');

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:72:31)

  ● Family Mode Integration Tests (e2e) › Co-Reading Session Flow › should start co-reading session

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      93 |         });
      94 |
    > 95 |       expect(response.status).toBe(201);
         |                               ^
      96 |       expect(response.body).toHaveProperty('coSession');
      97 |       expect(response.body).toHaveProperty('context');
      98 |       expect(response.body.context.currentPhase).toBe('BOOT');

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:95:31)

  ● Family Mode Integration Tests (e2e) › Co-Reading Session Flow › should get co-session prompt by phase

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      105 |         .send({ phase: 'PRE' });
      106 |
    > 107 |       expect(response.status).toBe(201);
          |                               ^
      108 |       expect(response.body).toHaveProperty('nextPrompt');
      109 |     });
      110 |   });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:107:31)

  ● Family Mode Integration Tests (e2e) › Teach-Back Session Flow › should start teach-back session

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      123 |         });
      124 |
    > 125 |       expect(response.status).toBe(201);
          |                               ^
      126 |       expect(response.body).toHaveProperty('session');
      127 |       expect(response.body.session.type).toBe('TEACH_BACK');
      128 |     });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:125:31)

  ● Family Mode Integration Tests (e2e) › Teach-Back Session Flow › should get teach-back prompts by step

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      134 |         .send({ step: 2 });
      135 |
    > 136 |       expect(response.status).toBe(201);
          |                               ^
      137 |       expect(response.body).toHaveProperty('nextPrompt');
      138 |     });
      139 |

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:136:31)

  ● Family Mode Integration Tests (e2e) › Teach-Back Session Flow › should finish teach-back with stars

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      144 |         .send({ stars: 3 });
      145 |
    > 146 |       expect(response.status).toBe(201);
          |                               ^
      147 |       expect(response.body).toHaveProperty('nextPrompt');
      148 |       expect(response.body.nextPrompt).toContain('3 estrelas');
      149 |     });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:146:31)

FAIL dist/test/e2e/content/cornell-reader.spec.js
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Cornell Reader', () => {
         |      ^
      12 |   let contentId: string;
      13 |
      14 |   test.beforeEach(async ({ page }) => {

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/content/cornell-reader.spec.ts:11:6)

FAIL src/prompts/prompt-library.service.spec.ts (5.606 s)
  ● PromptLibraryService › getPrompt › should interpolate variables in quickReplies

    expect(received).toContain(expected) // indexOf

    Expected substring: "História do Brasil"
    Received string:    "Sim, começar"

      41 |         MIN: 20,
      42 |       });
    > 43 |       expect(prompt.quickReplies[0]).toContain('História do Brasil');
         |                                      ^
      44 |       expect(prompt.quickReplies[0]).toContain('20 min');
      45 |     });
      46 |

      at Object.<anonymous> (src/prompts/prompt-library.service.spec.ts:43:38)

FAIL dist/test/integration/webclip-creation.integration.spec.js (11.287 s)
  ● WebClip Creation Integration Tests › WebClip Creation › should create WebClip with valid extension token

    secretOrPrivateKey must have a value

      51 |     // Generate Extension Token (simulating device flow result)
      52 |     // Manually create JWT with specific scopes
    > 53 |     extensionToken = jwtService.sign({
         |                                 ^
      54 |       sub: userId,
      55 |       email: userData.email,
      56 |       role: 'COMMON_USER', // Usually not present in extension token, but good for guard compat

      at Object.<anonymous>.module.exports [as sign] (node_modules/jsonwebtoken/sign.js:111:20)
      at JwtService.sign (node_modules/@nestjs/jwt/dist/jwt.service.js:41:20)
      at Object.<anonymous> (test/integration/webclip-creation.integration.spec.ts:53:33)

  ● WebClip Creation Integration Tests › WebClip Creation › should reject creation without required scope

    secretOrPrivateKey must have a value

      51 |     // Generate Extension Token (simulating device flow result)
      52 |     // Manually create JWT with specific scopes
    > 53 |     extensionToken = jwtService.sign({
         |                                 ^
      54 |       sub: userId,
      55 |       email: userData.email,
      56 |       role: 'COMMON_USER', // Usually not present in extension token, but good for guard compat

      at Object.<anonymous>.module.exports [as sign] (node_modules/jsonwebtoken/sign.js:111:20)
      at JwtService.sign (node_modules/@nestjs/jwt/dist/jwt.service.js:41:20)
      at Object.<anonymous> (test/integration/webclip-creation.integration.spec.ts:53:33)

  ● WebClip Creation Integration Tests › Session Start › should start session with valid extension token

    secretOrPrivateKey must have a value

      51 |     // Generate Extension Token (simulating device flow result)
      52 |     // Manually create JWT with specific scopes
    > 53 |     extensionToken = jwtService.sign({
         |                                 ^
      54 |       sub: userId,
      55 |       email: userData.email,
      56 |       role: 'COMMON_USER', // Usually not present in extension token, but good for guard compat

      at Object.<anonymous>.module.exports [as sign] (node_modules/jsonwebtoken/sign.js:111:20)
      at JwtService.sign (node_modules/@nestjs/jwt/dist/jwt.service.js:41:20)
      at Object.<anonymous> (test/integration/webclip-creation.integration.spec.ts:53:33)

PASS institutions/institutions.service.spec.ts
PASS institutions/institutions.controller.spec.ts (5.024 s)
PASS src/auth/extension-auth.service.spec.ts
PASS assessment/assessment.controller.spec.ts
PASS content/content.service.spec.ts
PASS auth/auth.controller.spec.ts
PASS auth/auth.service.spec.ts
PASS assessment/assessment.service.spec.ts (5.269 s)
PASS users/users.service.spec.ts (6.356 s)
PASS src/privacy/classroom-privacy-guard.service.spec.ts (17.996 s)
FAIL src/events/family-event.service.spec.ts (17.781 s)
  ● FamilyEventService › logPolicySet › should persist FAMILY_POLICY_SET event

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

    @@ -1,7 +1,8 @@
      Object {
        "data": Object {
    +     "eventType": "FAMILY_POLICY_SET",
          "payloadJson": Object {
            "data": Object {
              "householdId": "hh_123",
              "learnerUserId": "user_456",
              "policy": Object {
    @@ -19,10 +20,8 @@
              },
            },
            "domain": "FAMILY",
            "type": "FAMILY_POLICY_SET",
          },
    -     "sessionId": "session_1",
    -     "timestamp": Any<Date>,
    -     "userId": "user_456",
    +     "readingSessionId": "session_1",
        },
      },

    Number of calls: 1

      71 |
      72 |       expect(result).toBeDefined();
    > 73 |       expect(mockPrismaService.sessionEvent.create).toHaveBeenCalledWith({
         |                                                     ^
      74 |         data: {
      75 |           sessionId: 'session_1',
      76 |           userId: 'user_456',

      at Object.<anonymous> (src/events/family-event.service.spec.ts:73:53)

  ● FamilyEventService › getSessionEvents › should query FAMILY events for a session

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

      Object {
        "orderBy": Object {
    -     "timestamp": "asc",
    +     "createdAt": "asc",
        },
        "where": Object {
          "payloadJson": Object {
            "equals": "FAMILY",
            "path": Array [
              "domain",
            ],
          },
    -     "sessionId": "session_1",
    +     "readingSessionId": "session_1",
        },
      },

    Number of calls: 1

      133 |
      134 |       expect(events).toHaveLength(1);
    > 135 |       expect(mockPrismaService.sessionEvent.findMany).toHaveBeenCalledWith({
          |                                                       ^
      136 |         where: {
      137 |           sessionId: 'session_1',
      138 |           payloadJson: {

      at Object.<anonymous> (src/events/family-event.service.spec.ts:135:55)

PASS content/content.controller.spec.ts (13.539 s)
FAIL test/e2e/content/upload.spec.ts
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

      10 |  */
      11 |
    > 12 | test.describe('Content Upload', () => {
         |      ^
      13 |   test.beforeEach(async ({ page }) => {
      14 |     // Login before each test
      15 |     await loginAs(page, TEST_USERS.facilitator.email);

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/content/upload.spec.ts:12:6)

FAIL test/e2e/content/cornell-reader.spec.ts
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Cornell Reader', () => {
         |      ^
      12 |   let contentId: string;
      13 |
      14 |   test.beforeEach(async ({ page }) => {

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/content/cornell-reader.spec.ts:11:6)

FAIL test/integration/webclip-creation.integration.spec.ts (21.998 s)
  ● WebClip Creation Integration Tests › WebClip Creation › should create WebClip with valid extension token

    secretOrPrivateKey must have a value

      51 |     // Generate Extension Token (simulating device flow result)
      52 |     // Manually create JWT with specific scopes
    > 53 |     extensionToken = jwtService.sign({
         |                                 ^
      54 |       sub: userId,
      55 |       email: userData.email,
      56 |       role: 'COMMON_USER', // Usually not present in extension token, but good for guard compat

      at Object.<anonymous>.module.exports [as sign] (node_modules/jsonwebtoken/sign.js:111:20)
      at JwtService.sign (node_modules/@nestjs/jwt/dist/jwt.service.js:41:20)
      at Object.<anonymous> (test/integration/webclip-creation.integration.spec.ts:53:33)

  ● WebClip Creation Integration Tests › WebClip Creation › should reject creation without required scope

    secretOrPrivateKey must have a value

      51 |     // Generate Extension Token (simulating device flow result)
      52 |     // Manually create JWT with specific scopes
    > 53 |     extensionToken = jwtService.sign({
         |                                 ^
      54 |       sub: userId,
      55 |       email: userData.email,
      56 |       role: 'COMMON_USER', // Usually not present in extension token, but good for guard compat

      at Object.<anonymous>.module.exports [as sign] (node_modules/jsonwebtoken/sign.js:111:20)
      at JwtService.sign (node_modules/@nestjs/jwt/dist/jwt.service.js:41:20)
      at Object.<anonymous> (test/integration/webclip-creation.integration.spec.ts:53:33)

  ● WebClip Creation Integration Tests › Session Start › should start session with valid extension token

    secretOrPrivateKey must have a value

      51 |     // Generate Extension Token (simulating device flow result)
      52 |     // Manually create JWT with specific scopes
    > 53 |     extensionToken = jwtService.sign({
         |                                 ^
      54 |       sub: userId,
      55 |       email: userData.email,
      56 |       role: 'COMMON_USER', // Usually not present in extension token, but good for guard compat

      at Object.<anonymous>.module.exports [as sign] (node_modules/jsonwebtoken/sign.js:111:20)
      at JwtService.sign (node_modules/@nestjs/jwt/dist/jwt.service.js:41:20)
      at Object.<anonymous> (test/integration/webclip-creation.integration.spec.ts:53:33)

FAIL dist/test/integration/websocket.spec.js (88.209 s)
  ● WebSocket Real-Time Events (Integration) › WebSocket Connection › should reject connection with invalid token

    Should not connect with invalid token

      194 |       badClient.on('connect', () => {
      195 |         badClient.disconnect();
    > 196 |         done(new Error('Should not connect with invalid token'));
          |              ^
      197 |       });
      198 |
      199 |       badClient.on('connect_error', (error) => {

      at Socket.<anonymous> (test/integration/websocket.spec.ts:196:14)
      at Socket.Object.<anonymous>.Emitter.emit (node_modules/@socket.io/component-emitter/lib/cjs/index.js:143:20)
      at Socket.onconnect (node_modules/socket.io-client/build/cjs/socket.js:618:14)
      at Socket.onpacket (node_modules/socket.io-client/build/cjs/socket.js:506:26)
      at Manager.Object.<anonymous>.Emitter.emit (node_modules/@socket.io/component-emitter/lib/cjs/index.js:143:20)
      at node_modules/socket.io-client/build/cjs/manager.js:246:18

  ● WebSocket Real-Time Events (Integration) › WebSocket Connection › should reject connection without token

    Should not connect without token

      211 |       badClient.on('connect', () => {
      212 |         badClient.disconnect();
    > 213 |         done(new Error('Should not connect without token'));
          |              ^
      214 |       });
      215 |
      216 |       badClient.on('connect_error', (error) => {

      at Socket.<anonymous> (test/integration/websocket.spec.ts:213:14)
      at Socket.Object.<anonymous>.Emitter.emit (node_modules/@socket.io/component-emitter/lib/cjs/index.js:143:20)
      at Socket.onconnect (node_modules/socket.io-client/build/cjs/socket.js:618:14)
      at Socket.onpacket (node_modules/socket.io-client/build/cjs/socket.js:506:26)
      at Manager.Object.<anonymous>.Emitter.emit (node_modules/@socket.io/component-emitter/lib/cjs/index.js:143:20)
      at node_modules/socket.io-client/build/cjs/manager.js:246:18

  ● WebSocket Real-Time Events (Integration) › Session Membership Events › should notify other users when someone joins session

    thrown: "Exceeded timeout of 5000 ms for a test while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      243 |     });
      244 |
    > 245 |     it('should notify other users when someone joins session', (done) => {
          |     ^
      246 |       // User 2 listens for join event
      247 |       client2.on('userJoined', (data) => {
      248 |         expect(data.userId).toBe(user1Id);

      at test/integration/websocket.spec.ts:245:5
      at test/integration/websocket.spec.ts:224:3
      at Object.<anonymous> (test/integration/websocket.spec.ts:10:1)

  ● WebSocket Real-Time Events (Integration) › Session Membership Events › should notify other users when someone leaves session

    thrown: "Exceeded timeout of 5000 ms for a test while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      256 |     });
      257 |
    > 258 |     it('should notify other users when someone leaves session', (done) => {
          |     ^
      259 |       // Both join first
      260 |       client1.emit('joinSession', { sessionId });
      261 |       client2.emit('joinSession', { sessionId });

      at test/integration/websocket.spec.ts:258:5
      at test/integration/websocket.spec.ts:224:3
      at Object.<anonymous> (test/integration/websocket.spec.ts:10:1)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast SESSION_STARTED event to all members

    Nest could not find StudyGroupsWebSocketGateway element (this provider does not exist in the current context)

      316 |         });
      317 |         // Manually trigger emission (service would do this)
    > 318 |         const gateway = app.get('StudyGroupsWebSocketGateway');
          |                             ^
      319 |         gateway.emitToSession(sessionId, 'session.started', {
      320 |           sessionId,
      321 |           status: 'RUNNING',

      at InstanceLinksHost.get (node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at Proxy.find (node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at Proxy.get (node_modules/@nestjs/core/nest-application-context.js:77:20)
      at Timeout._onTimeout (test/integration/websocket.spec.ts:318:29)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast SESSION_STARTED event to all members

    thrown: "Exceeded timeout of 5000 ms for a test while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      299 |     });
      300 |
    > 301 |     it('should broadcast SESSION_STARTED event to all members', (done) => {
          |     ^
      302 |       // User 2 listens for session started
      303 |       client2.on('session.started', (data) => {
      304 |         expect(data.sessionId).toBe(sessionId);

      at test/integration/websocket.spec.ts:301:5
      at test/integration/websocket.spec.ts:276:3
      at Object.<anonymous> (test/integration/websocket.spec.ts:10:1)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast ROUND_ADVANCED event when round status changes

    Nest could not find StudyGroupsWebSocketGateway element (this provider does not exist in the current context)

      344 |         });
      345 |
    > 346 |         const gateway = app.get('StudyGroupsWebSocketGateway');
          |                             ^
      347 |         gateway.emitToSession(sessionId, 'round.advanced', {
      348 |           sessionId,
      349 |           roundId: round!.id,

      at InstanceLinksHost.get (node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at Proxy.find (node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at Proxy.get (node_modules/@nestjs/core/nest-application-context.js:77:20)
      at Timeout._onTimeout (test/integration/websocket.spec.ts:346:29)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast ROUND_ADVANCED event when round status changes

    thrown: "Exceeded timeout of 5000 ms for a test while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      325 |     });
      326 |
    > 327 |     it('should broadcast ROUND_ADVANCED event when round status changes', (done) => {
          |     ^
      328 |       client2.on('round.advanced', (data) => {
      329 |         expect(data.sessionId).toBe(sessionId);
      330 |         expect(data.roundIndex).toBe(1);

      at test/integration/websocket.spec.ts:327:5
      at test/integration/websocket.spec.ts:276:3
      at Object.<anonymous> (test/integration/websocket.spec.ts:10:1)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast VOTE_SUBMITTED event when user votes

    Nest could not find StudyGroupsWebSocketGateway element (this provider does not exist in the current context)

      377 |         });
      378 |
    > 379 |         const gateway = app.get('StudyGroupsWebSocketGateway');
          |                             ^
      380 |         gateway.emitToSession(sessionId, 'vote.submitted', {
      381 |           sessionId,
      382 |           roundId: round!.id,

      at InstanceLinksHost.get (node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at Proxy.find (node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at Proxy.get (node_modules/@nestjs/core/nest-application-context.js:77:20)
      at Timeout._onTimeout (test/integration/websocket.spec.ts:379:29)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast VOTE_SUBMITTED event when user votes

    thrown: "Exceeded timeout of 5000 ms for a test while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      354 |     });
      355 |
    > 356 |     it('should broadcast VOTE_SUBMITTED event when user votes', (done) => {
          |     ^
      357 |       client2.on('vote.submitted', (data) => {
      358 |         expect(data.sessionId).toBe(sessionId);
      359 |         expect(data.userId).toBe(user1Id);

      at test/integration/websocket.spec.ts:356:5
      at test/integration/websocket.spec.ts:276:3
      at Object.<anonymous> (test/integration/websocket.spec.ts:10:1)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast CHAT_MESSAGE event when user sends message

    Nest could not find StudyGroupsWebSocketGateway element (this provider does not exist in the current context)

      397 |
      398 |       setTimeout(() => {
    > 399 |         const gateway = app.get('StudyGroupsWebSocketGateway');
          |                             ^
      400 |         gateway.emitToSession(sessionId, 'chat.message', {
      401 |           message: 'Hello from user 1!',
      402 |           userId: user1Id,

      at InstanceLinksHost.get (node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at Proxy.find (node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at Proxy.get (node_modules/@nestjs/core/nest-application-context.js:77:20)
      at Timeout._onTimeout (test/integration/websocket.spec.ts:399:29)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast CHAT_MESSAGE event when user sends message

    thrown: "Exceeded timeout of 5000 ms for a test while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      388 |     });
      389 |
    > 390 |     it('should broadcast CHAT_MESSAGE event when user sends message', (done) => {
          |     ^
      391 |       client2.on('chat.message', (data) => {
      392 |         expect(data.message).toBe('Hello from user 1!');
      393 |         expect(data.userId).toBe(user1Id);

      at test/integration/websocket.spec.ts:390:5
      at test/integration/websocket.spec.ts:276:3
      at Object.<anonymous> (test/integration/websocket.spec.ts:10:1)

  ● WebSocket Real-Time Events (Integration) › Event Isolation › should NOT receive events from other sessions

    Nest could not find StudyGroupsWebSocketGateway element (this provider does not exist in the current context)

      446 |       // Emit event to session 1
      447 |       setTimeout(() => {
    > 448 |         const gateway = app.get('StudyGroupsWebSocketGateway');
          |                             ^
      449 |         gateway.emitToSession(sessionId, 'session.started', {
      450 |           sessionId,
      451 |           status: 'RUNNING',

      at InstanceLinksHost.get (node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at Proxy.find (node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at Proxy.get (node_modules/@nestjs/core/nest-application-context.js:77:20)
      at Timeout._onTimeout (test/integration/websocket.spec.ts:448:29)

  ● WebSocket Real-Time Events (Integration) › Event Isolation › should NOT receive events from other sessions

    thrown: "Exceeded timeout of 5000 ms for a test while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      427 |     });
      428 |
    > 429 |     it('should NOT receive events from other sessions', (done) => {
          |     ^
      430 |       client1 = io(SOCKET_URL, { auth: { token: user1Token } });
      431 |       client2 = io(SOCKET_URL, { auth: { token: user2Token } });
      432 |

      at test/integration/websocket.spec.ts:429:5
      at test/integration/websocket.spec.ts:408:3
      at Object.<anonymous> (test/integration/websocket.spec.ts:10:1)

A worker process has failed to exit gracefully and has been force exited. This is likely caused by tests leaking due to improper teardown. Try running with --detectOpenHandles to find leaks. Active timers can also cause this, ensure that .unref() was called on them.
Summary of all failing tests
FAIL dist/test/unit/family.service.spec.js (28.572 s)
  ● FamilyService (Unit) › transferOwnership() › should downgrade old owner to ADMIN

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"data": ObjectContaining {"role": "ADMIN"}, "where": {"familyId_userId": {"familyId": "family-123", "userId": "current-owner-id"}}}
    Received
           1
            @@ -1,8 +1,8 @@
              Object {
            -   "data": ObjectContaining {
            -     "role": "ADMIN",
            +   "data": Object {
            +     "role": "GUARDIAN",
                },
                "where": Object {
                  "familyId_userId": Object {
                    "familyId": "family-123",
                    "userId": "current-owner-id",,
           2
              Object {
            -   "data": ObjectContaining {
            -     "role": "ADMIN",
            +   "data": Object {
            +     "role": "OWNER",
                },
                "where": Object {
                  "familyId_userId": Object {
                    "familyId": "family-123",
            -       "userId": "current-owner-id",
            +       "userId": "new-owner-id",
                  },
                },
              },

    Number of calls: 2

      445 |       await service.transferOwnership(familyId, currentOwnerId, newOwnerId);
      446 |
    > 447 |       expect(prismaService.familyMember.update).toHaveBeenCalledWith({
          |                                                 ^
      448 |         where: {
      449 |           familyId_userId: { familyId, userId: currentOwnerId },
      450 |         },

      at Object.<anonymous> (test/unit/family.service.spec.ts:447:49)

FAIL dist/src/sessions/reading-sessions.service.spec.js (30.65 s)
  ● ReadingSessionsService - Session History › getUserSessions › should return paginated sessions with default params

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply page and limit params

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply date range filters

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply phase filter

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply search query

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should respect max limit of 100

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should transform sessions with duration calculation

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › exportSessions › should export as JSON

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › exportSessions › should export as CSV with proper format

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getActivityAnalytics › should return activity grouped by date

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getActivityAnalytics › should return phase distribution

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

FAIL test/unit/family.service.spec.ts (37.106 s)
  ● FamilyService (Unit) › transferOwnership() › should downgrade old owner to ADMIN

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"data": ObjectContaining {"role": "ADMIN"}, "where": {"familyId_userId": {"familyId": "family-123", "userId": "current-owner-id"}}}
    Received
           1
            @@ -1,8 +1,8 @@
              Object {
            -   "data": ObjectContaining {
            -     "role": "ADMIN",
            +   "data": Object {
            +     "role": "GUARDIAN",
                },
                "where": Object {
                  "familyId_userId": Object {
                    "familyId": "family-123",
                    "userId": "current-owner-id",,
           2
              Object {
            -   "data": ObjectContaining {
            -     "role": "ADMIN",
            +   "data": Object {
            +     "role": "OWNER",
                },
                "where": Object {
                  "familyId_userId": Object {
                    "familyId": "family-123",
            -       "userId": "current-owner-id",
            +       "userId": "new-owner-id",
                  },
                },
              },

    Number of calls: 2

      445 |       await service.transferOwnership(familyId, currentOwnerId, newOwnerId);
      446 |
    > 447 |       expect(prismaService.familyMember.update).toHaveBeenCalledWith({
          |                                                 ^
      448 |         where: {
      449 |           familyId_userId: { familyId, userId: currentOwnerId },
      450 |         },

      at Object.<anonymous> (test/unit/family.service.spec.ts:447:49)

FAIL src/sessions/reading-sessions.service.spec.ts (38.655 s)
  ● ReadingSessionsService - Session History › getUserSessions › should return paginated sessions with default params

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply page and limit params

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply date range filters

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply phase filter

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should apply search query

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should respect max limit of 100

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getUserSessions › should transform sessions with duration calculation

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › exportSessions › should export as JSON

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › exportSessions › should export as CSV with proper format

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getActivityAnalytics › should return activity grouped by date

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

  ● ReadingSessionsService - Session History › getActivityAnalytics › should return phase distribution

    Nest can't resolve dependencies of the ReadingSessionsService (PrismaService, ?, GamificationService, VocabService, OutcomesService, GatingService, QuickCommandParser, AiServiceClient, EventEmitter). Please make sure that the argument ProfileService at index [1] is available in the RootTestModule context.

    Potential solutions:
    - Is RootTestModule a valid NestJS module?
    - If ProfileService is a provider, is it part of the current RootTestModule?
    - If ProfileService is exported from a separate @Module, is that module imported within RootTestModule?
      @Module({
        imports: [ /* the Module containing ProfileService */ ]
      })

    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors

      16 |
      17 |   beforeEach(async () => {
    > 18 |     const module: TestingModule = await Test.createTestingModule({
         |                                   ^
      19 |       providers: [
      20 |         ReadingSessionsService,
      21 |         {

      at TestingInjector.lookupComponentInParentModules (node_modules/@nestjs/core/injector/injector.js:286:19)
      at resolveParam (node_modules/@nestjs/core/injector/injector.js:140:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (node_modules/@nestjs/core/injector/injector.js:169:27)
      at TestingInjector.loadInstance (node_modules/@nestjs/core/injector/injector.js:75:13)
      at TestingInjector.loadProvider (node_modules/@nestjs/core/injector/injector.js:103:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 1)
      at TestingInstanceLoader.createInstances (node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (src/sessions/reading-sessions.service.spec.ts:18:35)

FAIL test/e2e/study-groups/session-flow.spec.ts
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Study Groups - Session Flow', () => {
         |      ^
      12 |   let groupId: string;
      13 |   let sessionId: string;
      14 |

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/study-groups/session-flow.spec.ts:11:6)

FAIL dist/test/e2e/study-groups/session-flow.spec.js
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Study Groups - Session Flow', () => {
         |      ^
      12 |   let groupId: string;
      13 |   let sessionId: string;
      14 |

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/study-groups/session-flow.spec.ts:11:6)

FAIL test/e2e/study-groups/realtime-collab.spec.ts
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Real-Time Collaboration - WebSocket', () => {
         |      ^
      12 |   let sessionId: string;
      13 |   let groupId: string;
      14 |

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/study-groups/realtime-collab.spec.ts:11:6)

FAIL dist/test/integration/classroom-mode.integration.spec.js (50.638 s)
  ● Classroom Mode Integration Tests (e2e) › Classroom CRUD Flow › should create a classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      45 |         });
      46 |
    > 47 |       expect(response.status).toBe(201);
         |                               ^
      48 |       expect(response.body).toHaveProperty('id');
      49 |       expect(response.body.name).toBe('Turma 5A - Teste');
      50 |       

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:47:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom CRUD Flow › should get classroom by ID

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      57 |         .set('Authorization', `Bearer ${authToken}`);
      58 |
    > 59 |       expect(response.status).toBe(200);
         |                               ^
      60 |       expect(response.body.id).toBe(classroomId);
      61 |       expect(response.body).toHaveProperty('enrollments');
      62 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:59:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom CRUD Flow › should update classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      70 |         });
      71 |
    > 72 |       expect(response.status).toBe(200);
         |                               ^
      73 |       expect(response.body.name).toBe('Turma 5A - Atualizada');
      74 |     });
      75 |   });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:72:31)

  ● Classroom Mode Integration Tests (e2e) › Enrollment Flow › should enroll student in classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      85 |         });
      86 |
    > 87 |       expect(response.status).toBe(201);
         |                               ^
      88 |       expect(response.body.learnerUserId).toBe(studentId);
      89 |       expect(response.body.status).toBe('ACTIVE');
      90 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:87:31)

  ● Classroom Mode Integration Tests (e2e) › Enrollment Flow › should get enrollments for classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

       95 |         .set('Authorization', `Bearer ${authToken}`);
       96 |
    >  97 |       expect(response.status).toBe(200);
          |                               ^
       98 |       expect(Array.isArray(response.body)).toBe(true);
       99 |       expect(response.body.length).toBeGreaterThan(0);
      100 |       expect(response.body[0].learnerUserId).toBe(studentId);

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:97:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom Policy Flow › should create classroom policy

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      114 |         });
      115 |
    > 116 |       expect(response.status).toBe(201);
          |                               ^
      117 |       expect(response.body.weeklyUnitsTarget).toBe(3);
      118 |       expect(response.body.privacyMode).toBe('AGGREGATED_PLUS_HELP_REQUESTS');
      119 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:116:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom Policy Flow › should get policy prompt

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      128 |         });
      129 |
    > 130 |       expect(response.status).toBe(201);
          |                               ^
      131 |       expect(response.body).toHaveProperty('nextPrompt');
      132 |       expect(response.body.nextPrompt).toContain('3');
      133 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:130:31)

  ● Classroom Mode Integration Tests (e2e) › Weekly Planning Flow › should create weekly plan

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      148 |         });
      149 |
    > 150 |       expect(response.status).toBe(201);
          |                               ^
      151 |       expect(response.body).toHaveProperty('itemsJson');
      152 |       expect(response.body.itemsJson).toHaveLength(3);
      153 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:150:31)

  ● Classroom Mode Integration Tests (e2e) › Weekly Planning Flow › should get current week plan

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      158 |         .set('Authorization', `Bearer ${authToken}`);
      159 |
    > 160 |       expect(response.status).toBe(200);
          |                               ^
      161 |       expect(response.body).toHaveProperty('itemsJson');
      162 |     });
      163 |   });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:160:31)

  ● Classroom Mode Integration Tests (e2e) › Dashboard with Privacy Filtering › should get teacher dashboard with privacy filtering

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      169 |         .set('Authorization', `Bearer ${authToken}`);
      170 |
    > 171 |       expect(response.status).toBe(200);
          |                               ^
      172 |       expect(response.body).toHaveProperty('activeStudents');
      173 |       expect(response.body).toHaveProperty('students');
      174 |       expect(response.body.privacyMode).toBe('AGGREGATED_PLUS_HELP_REQUESTS');

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:171:31)

  ● Classroom Mode Integration Tests (e2e) › Intervention Flow › should log student help request

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      194 |         });
      195 |
    > 196 |       expect(response.status).toBe(201);
          |                               ^
      197 |       expect(response.body).toHaveProperty('timestamp');
      198 |       expect(response.body.status).toBe('PENDING');
      199 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:196:31)

  ● Classroom Mode Integration Tests (e2e) › Intervention Flow › should get intervention prompt

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      208 |         });
      209 |
    > 210 |       expect(response.status).toBe(201);
          |                               ^
      211 |       expect(response.body).toHaveProperty('nextPrompt');
      212 |       expect(response.body.nextPrompt).toContain('Maria');
      213 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:210:31)

FAIL dist/test/integration/annotations.integration.spec.js (22.454 s)
  ● Annotations Integration Tests › POST /contents/:contentId/annotations › should create a highlight annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › POST /contents/:contentId/annotations › should create a note annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › POST /contents/:contentId/annotations › should create a group annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › GET /contents/:contentId/annotations › should return all annotations for content

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › GET /contents/:contentId/annotations › should filter by groupId

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › PUT /contents/:contentId/annotations/:id › should update annotation text

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › DELETE /contents/:contentId/annotations/:id › should delete annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)


  ● Test suite failed to run

    PrismaClientValidationError: 
    Invalid `prisma.content.delete()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\annotations.integration.spec.ts:65:32

      62 await prisma.annotation.deleteMany({
      63   where: { contentId: testContentId },
      64 });
    → 65 await prisma.content.delete({
           where: {
             id: undefined,
         ?   AND?: ContentWhereInput | ContentWhereInput[],
         ?   OR?: ContentWhereInput[],
         ?   NOT?: ContentWhereInput | ContentWhereInput[],
         ?   institutionId?: StringNullableFilter | String | Null,
         ?   type?: EnumContentTypeFilter | ContentType,
         ?   sourceId?: StringNullableFilter | String | Null,
         ?   title?: StringFilter | String,
         ?   originalLanguage?: EnumLanguageFilter | Language,
         ?   rawText?: StringFilter | String,
         ?   metadata?: JsonNullableFilter,
         ?   createdBy?: StringNullableFilter | String | Null,
         ?   createdAt?: DateTimeFilter | DateTime,
         ?   updatedAt?: DateTimeFilter | DateTime,
         ?   scopeType?: EnumScopeTypeFilter | ScopeType,
         ?   familyId?: StringNullableFilter | String | Null,
         ?   fileId?: StringNullableFilter | String | Null,
         ?   languageGuess?: StringNullableFilter | String | Null,
         ?   ownerUserId?: StringNullableFilter | String | Null,
         ?   scopeId?: StringNullableFilter | String | Null,
         ?   sourceUrl?: StringNullableFilter | String | Null,
         ?   family?: FamilyNullableRelationFilter | FamilyWhereInput | Null,
         ?   assessments?: AssessmentListRelationFilter,
         ?   extractions?: ContentExtractionListRelationFilter,
         ?   versions?: ContentVersionListRelationFilter,
         ?   creator?: UserNullableRelationFilter | UserWhereInput | Null,
         ?   file?: FileNullableRelationFilter | FileWhereInput | Null,
         ?   institution?: InstitutionNullableRelationFilter | InstitutionWhereInput | Null,
         ?   ownerUser?: UserNullableRelationFilter | UserWhereInput | Null,
         ?   cornellNotes?: CornellNotesListRelationFilter,
         ?   highlights?: HighlightListRelationFilter,
         ?   chunks?: ContentChunkListRelationFilter,
         ?   learningAssets?: LearningAssetListRelationFilter,
         ?   lessons?: LessonListRelationFilter,
         ?   UserLibraryItem?: UserLibraryItemListRelationFilter,
         ?   ReadingSession?: ReadingSessionListRelationFilter,
         ?   UserVocabulary?: UserVocabularyListRelationFilter,
         ?   groupContents?: GroupContentListRelationFilter,
         ?   groupSessions?: GroupSessionListRelationFilter,
         ?   annotations?: AnnotationListRelationFilter
           }
         })

    Argument `where` of type ContentWhereUniqueInput needs at least one of `id` arguments. Available options are marked with ?.

      63 |       where: { contentId: testContentId },
      64 |     });
    > 65 |     await prisma.content.delete({ where: { id: testContentId } });
         |     ^
      66 |     await prisma.studyGroup.delete({ where: { id: testGroupId } });
      67 |     await app.close();
      68 |   });

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:65:5)

FAIL test/integration/websocket.spec.ts (51.768 s)
  ● WebSocket Real-Time Events (Integration) › WebSocket Connection › should connect with valid JWT token

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › WebSocket Connection › should reject connection with invalid token

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › WebSocket Connection › should reject connection without token

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Session Membership Events › should notify other users when someone joins session

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Session Membership Events › should notify other users when someone leaves session

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast SESSION_STARTED event to all members

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast ROUND_ADVANCED event when round status changes

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast VOTE_SUBMITTED event when user votes

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast CHAT_MESSAGE event when user sends message

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Event Isolation › should NOT receive events from other sessions

    listen EADDRINUSE: address already in use :::8000

      32 |     app.setGlobalPrefix('api/v1'); // Match production
      33 |     await app.init();
    > 34 |     await app.listen(8000); // Need actual server for WebSocket
         |               ^
      35 |
      36 |     prisma = app.get<PrismaService>(PrismaService);
      37 |     const configService = app.get<ConfigService>(ConfigService);

      at ExpressAdapter.listen (node_modules/@nestjs/platform-express/adapters/express-adapter.js:127:32)
      at node_modules/@nestjs/core/nest-application.js:188:30
      at Proxy.listen (node_modules/@nestjs/core/nest-application.js:178:16)
      at Object.<anonymous> (test/integration/websocket.spec.ts:34:15)

  ● WebSocket Real-Time Events (Integration) › Event Isolation › should NOT receive events from other sessions

    TypeError: Cannot read properties of undefined (reading 'groupSession')

      411 |     beforeAll(async () => {
      412 |       // Create second session
    > 413 |       const session2 = await prisma.groupSession.create({
          |                                     ^
      414 |         data: {
      415 |           groupId,
      416 |           contentId,

      at Object.<anonymous> (test/integration/websocket.spec.ts:413:37)


  ● Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'groupSession')

      424 |
      425 |     afterAll(async () => {
    > 426 |       await prisma.groupSession.delete({ where: { id: session2Id } });
          |                    ^
      427 |     });
      428 |
      429 |     it('should NOT receive events from other sessions', (done) => {

      at Object.<anonymous> (test/integration/websocket.spec.ts:426:20)

  ● Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'content')

      161 |       await prisma.studyGroup.delete({ where: { id: groupId } });
      162 |     }
    > 163 |     await prisma.content.delete({ where: { id: contentId } });
          |                  ^
      164 |     await prisma.user.delete({ where: { id: user1Id } });
      165 |     await prisma.user.delete({ where: { id: user2Id } });
      166 |

      at Object.<anonymous> (test/integration/websocket.spec.ts:163:18)

FAIL test/integration/classroom-mode.integration.spec.ts (51.753 s)
  ● Classroom Mode Integration Tests (e2e) › Classroom CRUD Flow › should create a classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      45 |         });
      46 |
    > 47 |       expect(response.status).toBe(201);
         |                               ^
      48 |       expect(response.body).toHaveProperty('id');
      49 |       expect(response.body.name).toBe('Turma 5A - Teste');
      50 |       

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:47:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom CRUD Flow › should get classroom by ID

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      57 |         .set('Authorization', `Bearer ${authToken}`);
      58 |
    > 59 |       expect(response.status).toBe(200);
         |                               ^
      60 |       expect(response.body.id).toBe(classroomId);
      61 |       expect(response.body).toHaveProperty('enrollments');
      62 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:59:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom CRUD Flow › should update classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      70 |         });
      71 |
    > 72 |       expect(response.status).toBe(200);
         |                               ^
      73 |       expect(response.body.name).toBe('Turma 5A - Atualizada');
      74 |     });
      75 |   });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:72:31)

  ● Classroom Mode Integration Tests (e2e) › Enrollment Flow › should enroll student in classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      85 |         });
      86 |
    > 87 |       expect(response.status).toBe(201);
         |                               ^
      88 |       expect(response.body.learnerUserId).toBe(studentId);
      89 |       expect(response.body.status).toBe('ACTIVE');
      90 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:87:31)

  ● Classroom Mode Integration Tests (e2e) › Enrollment Flow › should get enrollments for classroom

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

       95 |         .set('Authorization', `Bearer ${authToken}`);
       96 |
    >  97 |       expect(response.status).toBe(200);
          |                               ^
       98 |       expect(Array.isArray(response.body)).toBe(true);
       99 |       expect(response.body.length).toBeGreaterThan(0);
      100 |       expect(response.body[0].learnerUserId).toBe(studentId);

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:97:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom Policy Flow › should create classroom policy

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      114 |         });
      115 |
    > 116 |       expect(response.status).toBe(201);
          |                               ^
      117 |       expect(response.body.weeklyUnitsTarget).toBe(3);
      118 |       expect(response.body.privacyMode).toBe('AGGREGATED_PLUS_HELP_REQUESTS');
      119 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:116:31)

  ● Classroom Mode Integration Tests (e2e) › Classroom Policy Flow › should get policy prompt

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      128 |         });
      129 |
    > 130 |       expect(response.status).toBe(201);
          |                               ^
      131 |       expect(response.body).toHaveProperty('nextPrompt');
      132 |       expect(response.body.nextPrompt).toContain('3');
      133 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:130:31)

  ● Classroom Mode Integration Tests (e2e) › Weekly Planning Flow › should create weekly plan

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      148 |         });
      149 |
    > 150 |       expect(response.status).toBe(201);
          |                               ^
      151 |       expect(response.body).toHaveProperty('itemsJson');
      152 |       expect(response.body.itemsJson).toHaveLength(3);
      153 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:150:31)

  ● Classroom Mode Integration Tests (e2e) › Weekly Planning Flow › should get current week plan

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      158 |         .set('Authorization', `Bearer ${authToken}`);
      159 |
    > 160 |       expect(response.status).toBe(200);
          |                               ^
      161 |       expect(response.body).toHaveProperty('itemsJson');
      162 |     });
      163 |   });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:160:31)

  ● Classroom Mode Integration Tests (e2e) › Dashboard with Privacy Filtering › should get teacher dashboard with privacy filtering

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      169 |         .set('Authorization', `Bearer ${authToken}`);
      170 |
    > 171 |       expect(response.status).toBe(200);
          |                               ^
      172 |       expect(response.body).toHaveProperty('activeStudents');
      173 |       expect(response.body).toHaveProperty('students');
      174 |       expect(response.body.privacyMode).toBe('AGGREGATED_PLUS_HELP_REQUESTS');

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:171:31)

  ● Classroom Mode Integration Tests (e2e) › Intervention Flow › should log student help request

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      194 |         });
      195 |
    > 196 |       expect(response.status).toBe(201);
          |                               ^
      197 |       expect(response.body).toHaveProperty('timestamp');
      198 |       expect(response.body.status).toBe('PENDING');
      199 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:196:31)

  ● Classroom Mode Integration Tests (e2e) › Intervention Flow › should get intervention prompt

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      208 |         });
      209 |
    > 210 |       expect(response.status).toBe(201);
          |                               ^
      211 |       expect(response.body).toHaveProperty('nextPrompt');
      212 |       expect(response.body.nextPrompt).toContain('Maria');
      213 |     });

      at Object.<anonymous> (test/integration/classroom-mode.integration.spec.ts:210:31)

FAIL test/integration/extension-auth.integration.spec.ts (52.64 s)
  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should start device code flow

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      78 |         });
      79 |
    > 80 |       expect(response.status).toBe(201);
         |                               ^
      81 |       expect(response.body).toHaveProperty('deviceCode');
      82 |       expect(response.body).toHaveProperty('userCode');
      83 |       expect(response.body).toHaveProperty('verificationUrl');

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:80:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should return PENDING when polling immediately

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

       95 |         });
       96 |
    >  97 |       expect(response.status).toBe(201);
          |                               ^
       98 |       expect(response.body.status).toBe('PENDING');
       99 |     });
      100 |

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:97:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should approve device code (as logged in user)

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      108 |         });
      109 |
    > 110 |       expect(response.status).toBe(201);
          |                               ^
      111 |       expect(response.body.ok).toBe(true);
      112 |     });
      113 |

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:110:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should return APPROVED and tokens when polling after approval

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      120 |         });
      121 |
    > 122 |       expect(response.status).toBe(201);
          |                               ^
      123 |       expect(response.body.status).toBe('APPROVED');
      124 |       expect(response.body).toHaveProperty('accessToken');
      125 |       expect(response.body).toHaveProperty('refreshToken');

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:122:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should use extension token to access protected endpoint

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      136 |         .set('Authorization', `Bearer ${accessToken}`);
      137 |
    > 138 |       expect(response.status).toBe(200);
          |                               ^
      139 |       expect(response.body.userId).toBe(userId);
      140 |     });
      141 |

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:138:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should refresh token

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      145 |         .send({ refreshToken });
      146 |
    > 147 |       expect(response.status).toBe(201);
          |                               ^
      148 |       expect(response.body).toHaveProperty('accessToken');
      149 |       
      150 |       // Old token should still be valid until expiry, but let's just check we got a new one

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:147:31)

FAIL dist/test/integration/cornell.spec.js (52.676 s)
  ● Cornell Notes Integration Tests › GET /contents/:id/cornell - Auto-create › should create empty Cornell notes on first GET

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › GET /contents/:id/cornell - Auto-create › should return existing Cornell notes on subsequent GET

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save main notes

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save cue column

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save summary text

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save all fields together

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Persistence › should persist changes across GET requests

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Persistence › should update existing notes without losing data

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Validation › should reject invalid mainNotes format

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Validation › should allow empty cornell notes

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

FAIL dist/test/integration/study-groups.spec.js (52.725 s)
  ● Study Groups API (Integration) › Groups Management › POST /groups - should create group

    expected 201 "Created", got 404 "Not Found"

       95 |         .set('Authorization', authToken)
       96 |         .send({ name: 'Integration Test Group' })
    >  97 |         .expect(201);
          |          ^
       98 |
       99 |       expect(res.body).toHaveProperty('id');
      100 |       expect(res.body.name).toBe('Integration Test Group');

      at Object.<anonymous> (test/integration/study-groups.spec.ts:97:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › GET /groups - should list user groups

    expected 200 "OK", got 404 "Not Found"

      108 |         .get('/groups')
      109 |         .set('Authorization', authToken)
    > 110 |         .expect(200);
          |          ^
      111 |
      112 |       expect(Array.isArray(res.body)).toBe(true);
      113 |       expect(res.body.length).toBeGreaterThan(0);

      at Object.<anonymous> (test/integration/study-groups.spec.ts:110:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › GET /groups/:groupId - should get group details

    expected 200 "OK", got 404 "Not Found"

      119 |         .get(`/groups/${groupId}`)
      120 |         .set('Authorization', authToken)
    > 121 |         .expect(200);
          |          ^
      122 |
      123 |       expect(res.body.id).toBe(groupId);
      124 |       expect(res.body.name).toBe('Integration Test Group');

      at Object.<anonymous> (test/integration/study-groups.spec.ts:121:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › POST /groups/:groupId/members/invite - should invite member

    expected 201 "Created", got 404 "Not Found"

      147 |         .set('Authorization', authToken)
      148 |         .send({ userId: user2.id, role: 'MEMBER' })
    > 149 |         .expect(201);
          |          ^
      150 |
      151 |       // Verify member was invited
      152 |       const member = await prisma.studyGroupMember.findUnique({

      at Object.<anonymous> (test/integration/study-groups.spec.ts:149:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › POST /groups/:groupId/contents - should add content

    expected 201 "Created", got 404 "Not Found"

      166 |         .set('Authorization', authToken)
      167 |         .send({ contentId })
    > 168 |         .expect(201);
          |          ^
      169 |
      170 |       // Verify content was added
      171 |       const groupContent = await prisma.groupContent.findUnique({

      at Object.<anonymous> (test/integration/study-groups.spec.ts:168:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › DELETE /groups/:groupId/contents/:contentId - should remove content

    PrismaClientValidationError: 
    Invalid `prisma.groupContent.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:190:33

      187   },
      188 });
      189 
    → 190 await prisma.groupContent.create({
            data: {
              groupId: undefined,
              contentId: "02427bdd-2418-4386-bcab-824bdd73c0eb",
              addedByUserId: "56e13708-1e8e-452e-aba7-53054562474a",
          +   group: {
          +     create: StudyGroupCreateWithoutContentsInput | StudyGroupUncheckedCreateWithoutContentsInput,
          +     connectOrCreate: StudyGroupCreateOrConnectWithoutContentsInput,
          +     connect: StudyGroupWhereUniqueInput
          +   }
            }
          })

    Argument `group` is missing.

      188 |       });
      189 |
    > 190 |       await prisma.groupContent.create({
          |       ^
      191 |         data: { groupId, contentId: content2.id, addedByUserId: userId },
      192 |       });
      193 |

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:190:7)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions - should create session

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › GET /group-sessions/:sessionId - should get session details

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › PUT /group-sessions/:sessionId/start - should start session

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions/:sessionId/events - should submit vote

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions/:sessionId/rounds/:roundIndex/advance - should block with 409 if incomplete

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions/:sessionId/rounds/:roundIndex/advance - should advance after all vote

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › GET /group-sessions/:sessionId/events - should get events

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › GET /group-sessions/:sessionId/shared-cards - should get shared cards

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Permission Tests › should reject unauthorized access (no token)

    expected 401 "Unauthorized", got 404 "Not Found"

      392 |       await request(app.getHttpServer())
      393 |         .get('/groups')
    > 394 |         .expect(401);
          |          ^
      395 |     });
      396 |
      397 |     it('should reject MEMBER trying to invite', async () => {

      at Object.<anonymous> (test/integration/study-groups.spec.ts:394:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Permission Tests › should reject MEMBER trying to invite

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:410:37

      407   },
      408 });
      409 
    → 410 await prisma.studyGroupMember.create({
            data: {
              groupId: undefined,
              userId: "87167845-cd25-442c-8438-d5fe850bba23",
              role: "MEMBER",
              status: "ACTIVE",
          +   group: {
          +     create: StudyGroupCreateWithoutMembersInput | StudyGroupUncheckedCreateWithoutMembersInput,
          +     connectOrCreate: StudyGroupCreateOrConnectWithoutMembersInput,
          +     connect: StudyGroupWhereUniqueInput
          +   }
            }
          })

    Argument `group` is missing.

      408 |       });
      409 |
    > 410 |       await prisma.studyGroupMember.create({
          |       ^
      411 |         data: {
      412 |           groupId,
      413 |           userId: memberUser.id,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:410:7)

  ● Study Groups API (Integration) › Permission Tests › should reject expired JWT token

    expected 401 "Unauthorized", got 404 "Not Found"

      447 |         .get('/groups')
      448 |         .set('Authorization', `Bearer ${expiredToken}`)
    > 449 |         .expect(401);
          |          ^
      450 |     });
      451 |
      452 |     it('should reject invalid JWT token', async () => {

      at Object.<anonymous> (test/integration/study-groups.spec.ts:449:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Permission Tests › should reject invalid JWT token

    expected 401 "Unauthorized", got 404 "Not Found"

      454 |         .get('/groups')
      455 |         .set('Authorization', 'Bearer invalid-token-12345')
    > 456 |         .expect(401);
          |          ^
      457 |     });
      458 |   });
      459 | });

      at Object.<anonymous> (test/integration/study-groups.spec.ts:456:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

FAIL test/integration/sessions.spec.ts (52.956 s)
  ● Sessions Integration Tests › POST /contents/:id/sessions - Create Session › should create a new reading session

    expected 201 "Created", got 404 "Not Found"

      103 |         .post(`/contents/${testContentId}/sessions`)
      104 |         .set('Authorization', authToken)
    > 105 |         .expect(201);
          |          ^
      106 |       
      107 |       expect(response.body).toHaveProperty('id');
      108 |       expect(response.body.phase).toBe('PRE');

      at Object.<anonymous> (test/integration/sessions.spec.ts:105:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Phase Transitions › should advance from PRE to DURING

    expected 200 "OK", got 404 "Not Found"

      146 |           targetWords: ['test', 'integration', 'jest'],
      147 |         })
    > 148 |         .expect(200);
          |          ^
      149 |       
      150 |       // Then advance to DURING
      151 |       const response = await request(app.getHttpServer())

      at Object.<anonymous> (test/integration/sessions.spec.ts:148:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Phase Transitions › should reject FINISHED without DoD requirements

    expected 400 "Bad Request", got 404 "Not Found"

      170 |         .set('Authorization', authToken)
      171 |         .send({ toPhase: 'FINISHED' })
    > 172 |         .expect(400);  // Should fail DoD validation
          |          ^
      173 |     });
      174 |     
      175 |     it('should allow FINISHED when all DoD met', async () => {

      at Object.<anonymous> (test/integration/sessions.spec.ts:172:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Phase Transitions › should allow FINISHED when all DoD met

    expected 200 "OK", got 404 "Not Found"

      211 |         .set('Authorization', authToken)
      212 |         .send({ toPhase: 'FINISHED' })
    > 213 |         .expect(200);
          |          ^
      214 |       
      215 |       expect(response.body.phase).toBe('FINISHED');
      216 |       expect(response.body.finishedAt).toBeDefined();

      at Object.<anonymous> (test/integration/sessions.spec.ts:213:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Events › should record quiz response event

    expected 201 "Created", got 404 "Not Found"

      240 |           payload: { correct: true, questionText: 'What is Jest?' },
      241 |         })
    > 242 |         .expect(201);
          |          ^
      243 |       
      244 |       expect(response.body.eventType).toBe('QUIZ_RESPONSE');
      245 |       expect(response.body.readingSessionId).toBe(sessionId);

      at Object.<anonymous> (test/integration/sessions.spec.ts:242:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Events › should record production submit event

    expected 201 "Created", got 404 "Not Found"

      254 |           payload: { text: 'My notes on testing' },
      255 |         })
    > 256 |         .expect(201);
          |          ^
      257 |       
      258 |       expect(response.body.eventType).toBe('PRODUCTION_SUBMIT');
      259 |     });

      at Object.<anonymous> (test/integration/sessions.spec.ts:256:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)


  ● Test suite failed to run

    PrismaClientKnownRequestError: 
    Invalid `prisma.readingSession.deleteMany()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\sessions.spec.ts:90:33

      87 // Cleanup
      88 await prisma.sessionEvent.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
      89 await prisma.sessionOutcome.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
    → 90 await prisma.readingSession.deleteMany(
    Foreign key constraint violated: `legacy_cornell_notes_reading_session_id_fkey (index)`

      88 |     await prisma.sessionEvent.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
      89 |     await prisma.sessionOutcome.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
    > 90 |     await prisma.readingSession.deleteMany({ where: { userId: testUserId } });
         |     ^
      91 |     await prisma.contentChunk.deleteMany({ where: { contentId: testContentId } });
      92 |     await prisma.cornellNote.deleteMany({ where: { userId: testUserId } });
      93 |     await prisma.content.deleteMany({ where: { id: testContentId } });

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/sessions.spec.ts:90:5)

FAIL dist/test/e2e/study-groups/realtime-collab.spec.js
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Real-Time Collaboration - WebSocket', () => {
         |      ^
      12 |   let sessionId: string;
      13 |   let groupId: string;
      14 |

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/study-groups/realtime-collab.spec.ts:11:6)

FAIL dist/test/integration/sessions.spec.js (53.003 s)
  ● Sessions Integration Tests › POST /contents/:id/sessions - Create Session › should create a new reading session

    expected 201 "Created", got 404 "Not Found"

      103 |         .post(`/contents/${testContentId}/sessions`)
      104 |         .set('Authorization', authToken)
    > 105 |         .expect(201);
          |          ^
      106 |       
      107 |       expect(response.body).toHaveProperty('id');
      108 |       expect(response.body.phase).toBe('PRE');

      at Object.<anonymous> (test/integration/sessions.spec.ts:105:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Phase Transitions › should advance from PRE to DURING

    expected 200 "OK", got 404 "Not Found"

      146 |           targetWords: ['test', 'integration', 'jest'],
      147 |         })
    > 148 |         .expect(200);
          |          ^
      149 |       
      150 |       // Then advance to DURING
      151 |       const response = await request(app.getHttpServer())

      at Object.<anonymous> (test/integration/sessions.spec.ts:148:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Phase Transitions › should reject FINISHED without DoD requirements

    expected 400 "Bad Request", got 404 "Not Found"

      170 |         .set('Authorization', authToken)
      171 |         .send({ toPhase: 'FINISHED' })
    > 172 |         .expect(400);  // Should fail DoD validation
          |          ^
      173 |     });
      174 |     
      175 |     it('should allow FINISHED when all DoD met', async () => {

      at Object.<anonymous> (test/integration/sessions.spec.ts:172:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Phase Transitions › should allow FINISHED when all DoD met

    expected 200 "OK", got 404 "Not Found"

      211 |         .set('Authorization', authToken)
      212 |         .send({ toPhase: 'FINISHED' })
    > 213 |         .expect(200);
          |          ^
      214 |       
      215 |       expect(response.body.phase).toBe('FINISHED');
      216 |       expect(response.body.finishedAt).toBeDefined();

      at Object.<anonymous> (test/integration/sessions.spec.ts:213:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Events › should record quiz response event

    expected 201 "Created", got 404 "Not Found"

      240 |           payload: { correct: true, questionText: 'What is Jest?' },
      241 |         })
    > 242 |         .expect(201);
          |          ^
      243 |       
      244 |       expect(response.body.eventType).toBe('QUIZ_RESPONSE');
      245 |       expect(response.body.readingSessionId).toBe(sessionId);

      at Object.<anonymous> (test/integration/sessions.spec.ts:242:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Sessions Integration Tests › Session Events › should record production submit event

    expected 201 "Created", got 404 "Not Found"

      254 |           payload: { text: 'My notes on testing' },
      255 |         })
    > 256 |         .expect(201);
          |          ^
      257 |       
      258 |       expect(response.body.eventType).toBe('PRODUCTION_SUBMIT');
      259 |     });

      at Object.<anonymous> (test/integration/sessions.spec.ts:256:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)


  ● Test suite failed to run

    PrismaClientKnownRequestError: 
    Invalid `prisma.readingSession.deleteMany()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\sessions.spec.ts:90:33

      87 // Cleanup
      88 await prisma.sessionEvent.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
      89 await prisma.sessionOutcome.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
    → 90 await prisma.readingSession.deleteMany(
    Foreign key constraint violated: `legacy_cornell_notes_reading_session_id_fkey (index)`

      88 |     await prisma.sessionEvent.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
      89 |     await prisma.sessionOutcome.deleteMany({ where: { readingSessionId: { in: await prisma.readingSession.findMany({ where: { userId: testUserId }, select: { id: true } }).then(s => s.map(x => x.id)) } } });
    > 90 |     await prisma.readingSession.deleteMany({ where: { userId: testUserId } });
         |     ^
      91 |     await prisma.contentChunk.deleteMany({ where: { contentId: testContentId } });
      92 |     await prisma.cornellNote.deleteMany({ where: { userId: testUserId } });
      93 |     await prisma.content.deleteMany({ where: { id: testContentId } });

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/sessions.spec.ts:90:5)

FAIL test/integration/study-groups.spec.ts (53.109 s)
  ● Study Groups API (Integration) › Groups Management › POST /groups - should create group

    expected 201 "Created", got 404 "Not Found"

       95 |         .set('Authorization', authToken)
       96 |         .send({ name: 'Integration Test Group' })
    >  97 |         .expect(201);
          |          ^
       98 |
       99 |       expect(res.body).toHaveProperty('id');
      100 |       expect(res.body.name).toBe('Integration Test Group');

      at Object.<anonymous> (test/integration/study-groups.spec.ts:97:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › GET /groups - should list user groups

    expected 200 "OK", got 404 "Not Found"

      108 |         .get('/groups')
      109 |         .set('Authorization', authToken)
    > 110 |         .expect(200);
          |          ^
      111 |
      112 |       expect(Array.isArray(res.body)).toBe(true);
      113 |       expect(res.body.length).toBeGreaterThan(0);

      at Object.<anonymous> (test/integration/study-groups.spec.ts:110:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › GET /groups/:groupId - should get group details

    expected 200 "OK", got 404 "Not Found"

      119 |         .get(`/groups/${groupId}`)
      120 |         .set('Authorization', authToken)
    > 121 |         .expect(200);
          |          ^
      122 |
      123 |       expect(res.body.id).toBe(groupId);
      124 |       expect(res.body.name).toBe('Integration Test Group');

      at Object.<anonymous> (test/integration/study-groups.spec.ts:121:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › POST /groups/:groupId/members/invite - should invite member

    expected 201 "Created", got 404 "Not Found"

      147 |         .set('Authorization', authToken)
      148 |         .send({ userId: user2.id, role: 'MEMBER' })
    > 149 |         .expect(201);
          |          ^
      150 |
      151 |       // Verify member was invited
      152 |       const member = await prisma.studyGroupMember.findUnique({

      at Object.<anonymous> (test/integration/study-groups.spec.ts:149:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › POST /groups/:groupId/contents - should add content

    expected 201 "Created", got 404 "Not Found"

      166 |         .set('Authorization', authToken)
      167 |         .send({ contentId })
    > 168 |         .expect(201);
          |          ^
      169 |
      170 |       // Verify content was added
      171 |       const groupContent = await prisma.groupContent.findUnique({

      at Object.<anonymous> (test/integration/study-groups.spec.ts:168:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Groups Management › DELETE /groups/:groupId/contents/:contentId - should remove content

    PrismaClientKnownRequestError: 
    Invalid `prisma.content.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:180:45

      177 
      178 it('DELETE /groups/:groupId/contents/:contentId - should remove content', async () => {
      179   // Add another content first
    → 180   const content2 = await prisma.content.create(
    Foreign key constraint violated: `contents_owner_user_id_fkey (index)`

      178 |     it('DELETE /groups/:groupId/contents/:contentId - should remove content', async () => {
      179 |       // Add another content first
    > 180 |       const content2 = await prisma.content.create({
          |                        ^
      181 |         data: {
      182 |           title: 'Content 2',
      183 |           type: 'PDF',

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:180:24)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions - should create session

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › GET /group-sessions/:sessionId - should get session details

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › PUT /group-sessions/:sessionId/start - should start session

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions/:sessionId/events - should submit vote

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions/:sessionId/rounds/:roundIndex/advance - should block with 409 if incomplete

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › POST /group-sessions/:sessionId/rounds/:roundIndex/advance - should advance after all vote

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › GET /group-sessions/:sessionId/events - should get events

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Group Sessions › GET /group-sessions/:sessionId/shared-cards - should get shared cards

    PrismaClientValidationError: 
    Invalid `prisma.studyGroupMember.upsert()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:227:37

      224   update: {},
      225 });
      226 
    → 227 await prisma.studyGroupMember.upsert({
            where: {
              groupId_userId: {
                userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
          +     groupId: String
              }
            },
            create: {
              groupId: undefined,
              userId: "f13f2889-e63a-420f-b935-f325ebb4d489",
              role: "MEMBER",
              status: "ACTIVE"
            },
            update: {
              status: "ACTIVE"
            }
          })

    Argument `groupId` is missing.

      225 |       });
      226 |
    > 227 |       await prisma.studyGroupMember.upsert({
          |       ^
      228 |         where: { groupId_userId: { groupId, userId: user2.id } },
      229 |         create: {
      230 |           groupId,

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:227:7)

  ● Study Groups API (Integration) › Permission Tests › should reject unauthorized access (no token)

    expected 401 "Unauthorized", got 404 "Not Found"

      392 |       await request(app.getHttpServer())
      393 |         .get('/groups')
    > 394 |         .expect(401);
          |          ^
      395 |     });
      396 |
      397 |     it('should reject MEMBER trying to invite', async () => {

      at Object.<anonymous> (test/integration/study-groups.spec.ts:394:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Permission Tests › should reject MEMBER trying to invite

    PrismaClientKnownRequestError: 
    Invalid `prisma.user.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:399:44

      396 
      397 it('should reject MEMBER trying to invite', async () => {
      398   // Create a MEMBER user
    → 399   const memberUser = await prisma.user.create(
    Unique constraint failed on the fields: (`email`)

      397 |     it('should reject MEMBER trying to invite', async () => {
      398 |       // Create a MEMBER user
    > 399 |       const memberUser = await prisma.user.create({
          |                          ^
      400 |         data: {
      401 |           email: 'member-only@example.com',
      402 |           name: 'Member Only',

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:399:26)

  ● Study Groups API (Integration) › Permission Tests › should reject expired JWT token

    expected 401 "Unauthorized", got 404 "Not Found"

      447 |         .get('/groups')
      448 |         .set('Authorization', `Bearer ${expiredToken}`)
    > 449 |         .expect(401);
          |          ^
      450 |     });
      451 |
      452 |     it('should reject invalid JWT token', async () => {

      at Object.<anonymous> (test/integration/study-groups.spec.ts:449:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Study Groups API (Integration) › Permission Tests › should reject invalid JWT token

    expected 401 "Unauthorized", got 404 "Not Found"

      454 |         .get('/groups')
      455 |         .set('Authorization', 'Bearer invalid-token-12345')
    > 456 |         .expect(401);
          |          ^
      457 |     });
      458 |   });
      459 | });

      at Object.<anonymous> (test/integration/study-groups.spec.ts:456:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)


  ● Test suite failed to run

    PrismaClientKnownRequestError: 
    Invalid `prisma.user.delete()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\study-groups.spec.ts:86:29

      83   await prisma.studyGroup.delete({ where: { id: groupId } });
      84 }
      85 await prisma.content.delete({ where: { id: contentId } });
    → 86 await prisma.user.delete(
    An operation failed because it depends on one or more records that were required but not found. Record to delete does not exist.

      84 |     }
      85 |     await prisma.content.delete({ where: { id: contentId } });
    > 86 |     await prisma.user.delete({ where: { id: userId } });
         |     ^
      87 |
      88 |     await app.close();
      89 |   });

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/study-groups.spec.ts:86:5)

FAIL dist/src/events/family-event.service.spec.js
  ● FamilyEventService › logPolicySet › should persist FAMILY_POLICY_SET event

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

    @@ -1,7 +1,8 @@
      Object {
        "data": Object {
    +     "eventType": "FAMILY_POLICY_SET",
          "payloadJson": Object {
            "data": Object {
              "householdId": "hh_123",
              "learnerUserId": "user_456",
              "policy": Object {
    @@ -19,10 +20,8 @@
              },
            },
            "domain": "FAMILY",
            "type": "FAMILY_POLICY_SET",
          },
    -     "sessionId": "session_1",
    -     "timestamp": Any<Date>,
    -     "userId": "user_456",
    +     "readingSessionId": "session_1",
        },
      },

    Number of calls: 1

      71 |
      72 |       expect(result).toBeDefined();
    > 73 |       expect(mockPrismaService.sessionEvent.create).toHaveBeenCalledWith({
         |                                                     ^
      74 |         data: {
      75 |           sessionId: 'session_1',
      76 |           userId: 'user_456',

      at Object.<anonymous> (src/events/family-event.service.spec.ts:73:53)

  ● FamilyEventService › getSessionEvents › should query FAMILY events for a session

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

      Object {
        "orderBy": Object {
    -     "timestamp": "asc",
    +     "createdAt": "asc",
        },
        "where": Object {
          "payloadJson": Object {
            "equals": "FAMILY",
            "path": Array [
              "domain",
            ],
          },
    -     "sessionId": "session_1",
    +     "readingSessionId": "session_1",
        },
      },

    Number of calls: 1

      133 |
      134 |       expect(events).toHaveLength(1);
    > 135 |       expect(mockPrismaService.sessionEvent.findMany).toHaveBeenCalledWith({
          |                                                       ^
      136 |         where: {
      137 |           sessionId: 'session_1',
      138 |           payloadJson: {

      at Object.<anonymous> (src/events/family-event.service.spec.ts:135:55)

FAIL dist/test/integration/review-srs.spec.js (55.101 s)
  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should return empty queue when no due items

    expected 200 "OK", got 404 "Not Found"

      90 |         .get(apiUrl('review/queue'))
      91 |         .set('Authorization', authToken)
    > 92 |         .expect(200);
         |          ^
      93 |       
      94 |       expect(response.body).toEqual([]);
      95 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:92:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should return due vocabulary items

    expected 200 "OK", got 404 "Not Found"

      111 |         .get(apiUrl('review/queue'))
      112 |         .set('Authorization', authToken)
    > 113 |         .expect(200);
          |          ^
      114 |       
      115 |       expect(response.body.length).toBeGreaterThan(0);
      116 |       expect(response.body[0].word).toBe('test');

      at Object.<anonymous> (test/integration/review-srs.spec.ts:113:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should NOT return future items

    expected 200 "OK", got 404 "Not Found"

      133 |         .get(apiUrl('review/queue'))
      134 |         .set('Authorization', authToken)
    > 135 |         .expect(200);
          |          ^
      136 |       
      137 |       expect(response.body).toEqual([]);
      138 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:135:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should respect daily review cap

    expected 200 "OK", got 404 "Not Found"

      160 |         .get(apiUrl('review/queue'))
      161 |         .set('Authorization', authToken)
    > 162 |         .expect(200);
          |          ^
      163 |       
      164 |       expect(response.body.length).toBeLessThanOrEqual(20);
      165 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:162:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should transition NEW + OK -> D1

    expected 200 "OK", got 404 "Not Found"

      192 |           result: 'OK',
      193 |         })
    > 194 |         .expect(200);
          |          ^
      195 |       
      196 |       expect(response.body.srsStage).toBe('D1');
      197 |       expect(response.body.dueAt).toBeDefined();

      at Object.<anonymous> (test/integration/review-srs.spec.ts:194:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should transition with FAIL -> D1 (reset)

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:173:49

      170 
      171 beforeEach(async () => {
      172   // Create fresh vocab item
    → 173   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      171 |     beforeEach(async () => {
      172 |       // Create fresh vocab item
    > 173 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      174 |         data: {
      175 |           userId: testUserId,
      176 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:173:21)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should update due date correctly for D30

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:173:49

      170 
      171 beforeEach(async () => {
      172   // Create fresh vocab item
    → 173   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      171 |     beforeEach(async () => {
      172 |       // Create fresh vocab item
    > 173 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      174 |         data: {
      175 |           userId: testUserId,
      176 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:173:21)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should record attempt in history

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:173:49

      170 
      171 beforeEach(async () => {
      172   // Create fresh vocab item
    → 173   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      171 |     beforeEach(async () => {
      172 |       // Create fresh vocab item
    > 173 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      174 |         data: {
      175 |           userId: testUserId,
      176 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:173:21)

  ● Review & SRS Integration Tests › SRS Edge Cases › should keep MASTERED on OK

    expected 200 "OK", got 404 "Not Found"

      292 |           result: 'OK',
      293 |         })
    > 294 |         .expect(200);
          |          ^
      295 |       
      296 |       expect(response.body.srsStage).toBe('MASTERED');
      297 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:294:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › SRS Edge Cases › should regress MASTERED on FAIL

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:273:49

      270 let vocabId: string;
      271 
      272 beforeEach(async () => {
    → 273   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      271 |     
      272 |     beforeEach(async () => {
    > 273 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      274 |         data: {
      275 |           userId: testUserId,
      276 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:273:21)

FAIL test/integration/cornell.spec.ts (56.013 s)
  ● Cornell Notes Integration Tests › GET /contents/:id/cornell - Auto-create › should create empty Cornell notes on first GET

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › GET /contents/:id/cornell - Auto-create › should return existing Cornell notes on subsequent GET

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save main notes

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save cue column

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save summary text

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › PUT /contents/:id/cornell - Save Notes › should save all fields together

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Persistence › should persist changes across GET requests

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Persistence › should update existing notes without losing data

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Validation › should reject invalid mainNotes format

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Cornell Notes Integration Tests › Cornell Notes Validation › should allow empty cornell notes

    expected 201 "Created", got 404 "Not Found"

      71 |         schoolingLevel: 'ADULT',
      72 |       })
    > 73 |       .expect(201);
         |        ^
      74 |     const loginResponse = await request(app.getHttpServer())
      75 |       .post(apiUrl(ROUTES.AUTH.LOGIN))
      76 |       .send({

      at Object.<anonymous> (test/integration/cornell.spec.ts:73:8)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

FAIL dist/test/integration/family-primary.integration.spec.js (56.541 s)
  ● Primary Family Logic (Integration) › Auto-Primary on Creation › should set primaryFamilyId in database when creating FIRST family

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:71:33)

  ● Primary Family Logic (Integration) › Auto-Primary on Creation › should switch Primary when creating SECOND family (Creation Priority)

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:89:33)

  ● Primary Family Logic (Integration) › Auto-Primary on Invites › should set Primary on FIRST invite acceptance

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:128:25)

  ● Primary Family Logic (Integration) › Auto-Primary on Invites › should NOT change Primary on SECOND invite acceptance

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:128:25)

FAIL test/integration/review-srs.spec.ts (56.602 s)
  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should return empty queue when no due items

    expected 200 "OK", got 404 "Not Found"

      90 |         .get(apiUrl('review/queue'))
      91 |         .set('Authorization', authToken)
    > 92 |         .expect(200);
         |          ^
      93 |       
      94 |       expect(response.body).toEqual([]);
      95 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:92:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should return due vocabulary items

    expected 200 "OK", got 404 "Not Found"

      111 |         .get(apiUrl('review/queue'))
      112 |         .set('Authorization', authToken)
    > 113 |         .expect(200);
          |          ^
      114 |       
      115 |       expect(response.body.length).toBeGreaterThan(0);
      116 |       expect(response.body[0].word).toBe('test');

      at Object.<anonymous> (test/integration/review-srs.spec.ts:113:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should NOT return future items

    expected 200 "OK", got 404 "Not Found"

      133 |         .get(apiUrl('review/queue'))
      134 |         .set('Authorization', authToken)
    > 135 |         .expect(200);
          |          ^
      136 |       
      137 |       expect(response.body).toEqual([]);
      138 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:135:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › GET /review/queue - Queue Retrieval › should respect daily review cap

    expected 200 "OK", got 404 "Not Found"

      160 |         .get(apiUrl('review/queue'))
      161 |         .set('Authorization', authToken)
    > 162 |         .expect(200);
          |          ^
      163 |       
      164 |       expect(response.body.length).toBeLessThanOrEqual(20);
      165 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:162:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should transition NEW + OK -> D1

    expected 200 "OK", got 404 "Not Found"

      192 |           result: 'OK',
      193 |         })
    > 194 |         .expect(200);
          |          ^
      195 |       
      196 |       expect(response.body.srsStage).toBe('D1');
      197 |       expect(response.body.dueAt).toBeDefined();

      at Object.<anonymous> (test/integration/review-srs.spec.ts:194:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should transition with FAIL -> D1 (reset)

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:173:49

      170 
      171 beforeEach(async () => {
      172   // Create fresh vocab item
    → 173   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      171 |     beforeEach(async () => {
      172 |       // Create fresh vocab item
    > 173 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      174 |         data: {
      175 |           userId: testUserId,
      176 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:173:21)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should update due date correctly for D30

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:173:49

      170 
      171 beforeEach(async () => {
      172   // Create fresh vocab item
    → 173   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      171 |     beforeEach(async () => {
      172 |       // Create fresh vocab item
    > 173 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      174 |         data: {
      175 |           userId: testUserId,
      176 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:173:21)

  ● Review & SRS Integration Tests › POST /review/attempt - SRS Transitions › should record attempt in history

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:173:49

      170 
      171 beforeEach(async () => {
      172   // Create fresh vocab item
    → 173   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      171 |     beforeEach(async () => {
      172 |       // Create fresh vocab item
    > 173 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      174 |         data: {
      175 |           userId: testUserId,
      176 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:173:21)

  ● Review & SRS Integration Tests › SRS Edge Cases › should keep MASTERED on OK

    expected 200 "OK", got 404 "Not Found"

      292 |           result: 'OK',
      293 |         })
    > 294 |         .expect(200);
          |          ^
      295 |       
      296 |       expect(response.body.srsStage).toBe('MASTERED');
      297 |     });

      at Object.<anonymous> (test/integration/review-srs.spec.ts:294:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Review & SRS Integration Tests › SRS Edge Cases › should regress MASTERED on FAIL

    PrismaClientKnownRequestError: 
    Invalid `prisma.userVocabulary.create()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\review-srs.spec.ts:273:49

      270 let vocabId: string;
      271 
      272 beforeEach(async () => {
    → 273   const vocab = await prisma.userVocabulary.create(
    Unique constraint failed on the fields: (`user_id`,`word`,`language`)

      271 |     
      272 |     beforeEach(async () => {
    > 273 |       const vocab = await prisma.userVocabulary.create({
          |                     ^
      274 |         data: {
      275 |           userId: testUserId,
      276 |           contentId: testContentId,

      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/review-srs.spec.ts:273:21)

FAIL dist/test/integration/family.spec.js (56.767 s)
  ● Family Plan (Integration) › Authentication Setup › should register and login owner user

    expected 201 "Created", got 404 "Not Found"

      55 |           schoolingLevel: 'UNDERGRADUATE',
      56 |         })
    > 57 |         .expect(201);
         |          ^
      58 |
      59 |       // Login
      60 |       const loginResponse = await request(app.getHttpServer())

      at Object.<anonymous> (test/integration/family.spec.ts:57:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families › should create family with current user as owner

    expected 201 "Created", got 401 "Unauthorized"

      81 |           name: 'Test Family',
      82 |         })
    > 83 |         .expect(201);
         |          ^
      84 |
      85 |       familyId = response.body.id;
      86 |

      at Object.<anonymous> (test/integration/family.spec.ts:83:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families › should create owner membership record

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 0
    Received array:  []

       96 |       });
       97 |
    >  98 |       expect(members).toHaveLength(1);
          |                       ^
       99 |       expect(members[0]).toMatchObject({
      100 |         userId: ownerUserId,
      101 |         role: 'OWNER',

      at Object.<anonymous> (test/integration/family.spec.ts:98:23)

  ● Family Plan (Integration) › POST /families › should return family with members array

    expected 200 "OK", got 401 "Unauthorized"

      108 |         .get(apiUrl(ROUTES.FAMILY.BY_ID(familyId)))
      109 |         .set('Authorization', `Bearer ${authToken}`)
    > 110 |         .expect(200);
          |          ^
      111 |
      112 |       expect(response.body.members).toBeDefined();
      113 |       expect(response.body.members).toHaveLength(1);

      at Object.<anonymous> (test/integration/family.spec.ts:110:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › GET /families › should list all families user belongs to

    expected 200 "OK", got 401 "Unauthorized"

      121 |         .get(apiUrl(ROUTES.FAMILY.BASE))
      122 |         .set('Authorization', `Bearer ${authToken}`)
    > 123 |         .expect(200);
          |          ^
      124 |
      125 |       expect(response.body).toHaveLength(1);
      126 |       expect(response.body[0].name).toBe('Test Family');

      at Object.<anonymous> (test/integration/family.spec.ts:123:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should add existing user as GUARDIAN

    expected 201 "Created", got 404 "Not Found"

      140 |           schoolingLevel: 'UNDERGRADUATE',
      141 |         })
    > 142 |         .expect(201);
          |          ^
      143 |
      144 |       const response = await request(app.getHttpServer())
      145 |         .post(apiUrl(ROUTES.FAMILY.INVITE(familyId)))

      at Object.<anonymous> (test/integration/family.spec.ts:142:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should create placeholder user for new email

    expected 201 "Created", got 401 "Unauthorized"

      180 |           role: 'CHILD',
      181 |         })
    > 182 |         .expect(201);
          |          ^
      183 |
      184 |       // expect(response.body.message).toContain('invited'); // Controllers return data directly
      185 |

      at Object.<anonymous> (test/integration/family.spec.ts:182:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should reject duplicate invitations

    expected 409 "Conflict", got 401 "Unauthorized"

      202 |           role: 'GUARDIAN',
      203 |         })
    > 204 |         .expect(409);
          |          ^
      205 |     });
      206 |
      207 |     it('should only allow owner to invite members', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:204:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should only allow owner to invite members

    expected 403 "Forbidden", got 401 "Unauthorized"

      233 |           role: 'CHILD',
      234 |         })
    > 235 |         .expect(403);
          |          ^
      236 |     });
      237 |   });
      238 |

      at Object.<anonymous> (test/integration/family.spec.ts:235:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/transfer-ownership › should transfer ownership to existing member

    TypeError: Cannot read properties of null (reading 'id')

      244 |         where: { email: 'existing@family-test.com' },
      245 |       });
    > 246 |       memberUserId = existingUser.id;
          |                                   ^
      247 |     });
      248 |
      249 |     it('should transfer ownership to existing member', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:246:35)

  ● Family Plan (Integration) › POST /families/:id/transfer-ownership › should prevent non-owner from transferring

    TypeError: Cannot read properties of null (reading 'id')

      244 |         where: { email: 'existing@family-test.com' },
      245 |       });
    > 246 |       memberUserId = existingUser.id;
          |                                   ^
      247 |     });
      248 |
      249 |     it('should transfer ownership to existing member', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:246:35)

  ● Family Plan (Integration) › POST /families/:id/primary › should set family as primary for user

    expected 201 "Created", got 401 "Unauthorized"

      316 |         .post(apiUrl(ROUTES.FAMILY.SET_PRIMARY(familyId)))
      317 |         .set('Authorization', `Bearer ${authToken}`)
    > 318 |         .expect(201);
          |          ^
      319 |
      320 |       // expect(response.body.message).toContain('primary'); // Controllers return data directly
      321 |

      at Object.<anonymous> (test/integration/family.spec.ts:318:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/primary › should only allow family members to set as primary

    expected 403 "Forbidden", got 401 "Unauthorized"

      349 |         .post(apiUrl(ROUTES.FAMILY.SET_PRIMARY(familyId)))
      350 |         .set('Authorization', `Bearer ${outsiderLogin.body.access_token}`)
    > 351 |         .expect(403);
          |          ^
      352 |     });
      353 |   });
      354 |

      at Object.<anonymous> (test/integration/family.spec.ts:351:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › DELETE /families/:id › should delete family and all members

    expected 200 "OK", got 401 "Unauthorized"

      400 |         .delete(apiUrl(ROUTES.FAMILY.BY_ID(tempFamilyId)))
      401 |         .set('Authorization', `Bearer ${authToken}`)
    > 402 |         .expect(200);
          |          ^
      403 |
      404 |       // Verify family deleted
      405 |       const family = await prisma.family.findUnique({

      at Object.<anonymous> (test/integration/family.spec.ts:402:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › DELETE /families/:id › should only allow owner to delete family

    expected 403 "Forbidden", got 401 "Unauthorized"

      426 |         .delete(apiUrl(ROUTES.FAMILY.BY_ID(familyId)))
      427 |         .set('Authorization', `Bearer ${newOwnerLogin.body.access_token}`)
    > 428 |         .expect(403);
          |          ^
      429 |     });
      430 |
      431 |     it('should return 404 if family does not exist', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:428:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › DELETE /families/:id › should return 404 if family does not exist

    expected 404 "Not Found", got 401 "Unauthorized"

      433 |         .delete(apiUrl(ROUTES.FAMILY.BY_ID('non-existent-id')))
      434 |         .set('Authorization', `Bearer ${authToken}`)
    > 435 |         .expect(404);
          |          ^
      436 |     });
      437 |   });
      438 |

      at Object.<anonymous> (test/integration/family.spec.ts:435:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › Multi-Family Scenarios › should create second family

    expected 201 "Created", got 401 "Unauthorized"

      447 |           name: 'Second Family',
      448 |         })
    > 449 |         .expect(201);
          |          ^
      450 |
      451 |       secondFamilyId = response.body.id;
      452 |       expect(response.body.name).toBe('Second Family');

      at Object.<anonymous> (test/integration/family.spec.ts:449:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › Multi-Family Scenarios › should list both families

    expected 200 "OK", got 401 "Unauthorized"

      457 |         .get(apiUrl(ROUTES.FAMILY.BASE))
      458 |         .set('Authorization', `Bearer ${authToken}`)
    > 459 |         .expect(200);
          |          ^
      460 |
      461 |       expect(response.body.length).toBeGreaterThanOrEqual(2);
      462 |       const familyNames = response.body.map(f => f.name);

      at Object.<anonymous> (test/integration/family.spec.ts:459:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › Multi-Family Scenarios › should switch primary family

    expected 201 "Created", got 401 "Unauthorized"

      469 |         .post(apiUrl(ROUTES.FAMILY.SET_PRIMARY(secondFamilyId)))
      470 |         .set('Authorization', `Bearer ${authToken}`)
    > 471 |         .expect(201);
          |          ^
      472 |
      473 |       const user = await prisma.user.findUnique({
      474 |         where: { id: ownerUserId },

      at Object.<anonymous> (test/integration/family.spec.ts:471:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)


  ● Test suite failed to run

    expected 201 "Created", got 401 "Unauthorized"

      307 |           newOwnerId: ownerUserId,
      308 |         })
    > 309 |         .expect(201);
          |          ^
      310 |     });
      311 |   });
      312 |

      at Object.<anonymous> (test/integration/family.spec.ts:309:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

FAIL test/integration/family-primary.integration.spec.ts (56.906 s)
  ● Primary Family Logic (Integration) › Auto-Primary on Creation › should set primaryFamilyId in database when creating FIRST family

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:71:33)

  ● Primary Family Logic (Integration) › Auto-Primary on Creation › should switch Primary when creating SECOND family (Creation Priority)

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:89:33)

  ● Primary Family Logic (Integration) › Auto-Primary on Invites › should set Primary on FIRST invite acceptance

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:128:25)

  ● Primary Family Logic (Integration) › Auto-Primary on Invites › should NOT change Primary on SECOND invite acceptance

    TypeError: Cannot read properties of undefined (reading 'id')

      63 |     return {
      64 |       token: login.body.access_token,
    > 65 |       userId: login.body.user.id,
         |                               ^
      66 |     };
      67 |   };
      68 |

      at createAndLoginUser (test/integration/family-primary.integration.spec.ts:65:31)
      at Object.<anonymous> (test/integration/family-primary.integration.spec.ts:128:25)

FAIL test/integration/annotations.integration.spec.ts (26.377 s)
  ● Annotations Integration Tests › POST /contents/:contentId/annotations › should create a highlight annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › POST /contents/:contentId/annotations › should create a note annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › POST /contents/:contentId/annotations › should create a group annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › GET /contents/:contentId/annotations › should return all annotations for content

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › GET /contents/:contentId/annotations › should filter by groupId

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › PUT /contents/:contentId/annotations/:id › should update annotation text

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)

  ● Annotations Integration Tests › DELETE /contents/:contentId/annotations/:id › should delete annotation

    TypeError: Cannot read properties of undefined (reading 'id')

      34 |
      35 |     authToken = loginRes.body.access_token;
    > 36 |     testUserId = loginRes.body.user.id;
         |                                     ^
      37 |
      38 |     // Create test content
      39 |     const content = await prisma.content.create({

      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:36:37)


  ● Test suite failed to run

    PrismaClientValidationError: 
    Invalid `prisma.content.delete()` invocation in
    C:\projects\aprendeai-app\services\api\test\integration\annotations.integration.spec.ts:65:32

      62 await prisma.annotation.deleteMany({
      63   where: { contentId: testContentId },
      64 });
    → 65 await prisma.content.delete({
           where: {
             id: undefined,
         ?   AND?: ContentWhereInput | ContentWhereInput[],
         ?   OR?: ContentWhereInput[],
         ?   NOT?: ContentWhereInput | ContentWhereInput[],
         ?   institutionId?: StringNullableFilter | String | Null,
         ?   type?: EnumContentTypeFilter | ContentType,
         ?   sourceId?: StringNullableFilter | String | Null,
         ?   title?: StringFilter | String,
         ?   originalLanguage?: EnumLanguageFilter | Language,
         ?   rawText?: StringFilter | String,
         ?   metadata?: JsonNullableFilter,
         ?   createdBy?: StringNullableFilter | String | Null,
         ?   createdAt?: DateTimeFilter | DateTime,
         ?   updatedAt?: DateTimeFilter | DateTime,
         ?   scopeType?: EnumScopeTypeFilter | ScopeType,
         ?   familyId?: StringNullableFilter | String | Null,
         ?   fileId?: StringNullableFilter | String | Null,
         ?   languageGuess?: StringNullableFilter | String | Null,
         ?   ownerUserId?: StringNullableFilter | String | Null,
         ?   scopeId?: StringNullableFilter | String | Null,
         ?   sourceUrl?: StringNullableFilter | String | Null,
         ?   family?: FamilyNullableRelationFilter | FamilyWhereInput | Null,
         ?   assessments?: AssessmentListRelationFilter,
         ?   extractions?: ContentExtractionListRelationFilter,
         ?   versions?: ContentVersionListRelationFilter,
         ?   creator?: UserNullableRelationFilter | UserWhereInput | Null,
         ?   file?: FileNullableRelationFilter | FileWhereInput | Null,
         ?   institution?: InstitutionNullableRelationFilter | InstitutionWhereInput | Null,
         ?   ownerUser?: UserNullableRelationFilter | UserWhereInput | Null,
         ?   cornellNotes?: CornellNotesListRelationFilter,
         ?   highlights?: HighlightListRelationFilter,
         ?   chunks?: ContentChunkListRelationFilter,
         ?   learningAssets?: LearningAssetListRelationFilter,
         ?   lessons?: LessonListRelationFilter,
         ?   UserLibraryItem?: UserLibraryItemListRelationFilter,
         ?   ReadingSession?: ReadingSessionListRelationFilter,
         ?   UserVocabulary?: UserVocabularyListRelationFilter,
         ?   groupContents?: GroupContentListRelationFilter,
         ?   groupSessions?: GroupSessionListRelationFilter,
         ?   annotations?: AnnotationListRelationFilter
           }
         })

    Argument `where` of type ContentWhereUniqueInput needs at least one of `id` arguments. Available options are marked with ?.

      63 |       where: { contentId: testContentId },
      64 |     });
    > 65 |     await prisma.content.delete({ where: { id: testContentId } });
         |     ^
      66 |     await prisma.studyGroup.delete({ where: { id: testGroupId } });
      67 |     await app.close();
      68 |   });

      at wn (node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (node_modules/@prisma/client/runtime/library.js:130:9633)
      at Object.<anonymous> (test/integration/annotations.integration.spec.ts:65:5)

FAIL dist/src/prompts/prompt-library.service.spec.js
  ● PromptLibraryService › getPrompt › should interpolate variables in quickReplies

    expect(received).toContain(expected) // indexOf

    Expected substring: "História do Brasil"
    Received string:    "Sim, começar"

      41 |         MIN: 20,
      42 |       });
    > 43 |       expect(prompt.quickReplies[0]).toContain('História do Brasil');
         |                                      ^
      44 |       expect(prompt.quickReplies[0]).toContain('20 min');
      45 |     });
      46 |

      at Object.<anonymous> (src/prompts/prompt-library.service.spec.ts:43:38)

FAIL dist/test/integration/family-mode.integration.spec.js (16.201 s)
  ● Family Mode Integration Tests (e2e) › Family Policy Flow › should create a family policy

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      46 |         });
      47 |
    > 48 |       expect(response.status).toBe(201);
         |                               ^
      49 |       expect(response.body).toHaveProperty('id');
      50 |       expect(response.body.timeboxDefaultMin).toBe(20);
      51 |       

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:48:31)

  ● Family Mode Integration Tests (e2e) › Family Policy Flow › should get policy confirmation prompt

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      60 |         .set('Authorization', `Bearer ${authToken}`);
      61 |
    > 62 |       expect(response.status).toBe(201);
         |                               ^
      63 |       expect(response.body).toHaveProperty('nextPrompt');
      64 |       expect(response.body.nextPrompt).toContain('20 min');
      65 |     });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:62:31)

  ● Family Mode Integration Tests (e2e) › Family Policy Flow › should get educator dashboard with privacy filtering

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      70 |         .set('Authorization', `Bearer ${authToken}`);
      71 |
    > 72 |       expect(response.status).toBe(200);
         |                               ^
      73 |       expect(response.body).toHaveProperty('streakDays');
      74 |       expect(response.body).toHaveProperty('minutesTotal');
      75 |       expect(response.body).toHaveProperty('comprehensionAvg');

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:72:31)

  ● Family Mode Integration Tests (e2e) › Co-Reading Session Flow › should start co-reading session

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      93 |         });
      94 |
    > 95 |       expect(response.status).toBe(201);
         |                               ^
      96 |       expect(response.body).toHaveProperty('coSession');
      97 |       expect(response.body).toHaveProperty('context');
      98 |       expect(response.body.context.currentPhase).toBe('BOOT');

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:95:31)

  ● Family Mode Integration Tests (e2e) › Co-Reading Session Flow › should get co-session prompt by phase

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      105 |         .send({ phase: 'PRE' });
      106 |
    > 107 |       expect(response.status).toBe(201);
          |                               ^
      108 |       expect(response.body).toHaveProperty('nextPrompt');
      109 |     });
      110 |   });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:107:31)

  ● Family Mode Integration Tests (e2e) › Teach-Back Session Flow › should start teach-back session

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      123 |         });
      124 |
    > 125 |       expect(response.status).toBe(201);
          |                               ^
      126 |       expect(response.body).toHaveProperty('session');
      127 |       expect(response.body.session.type).toBe('TEACH_BACK');
      128 |     });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:125:31)

  ● Family Mode Integration Tests (e2e) › Teach-Back Session Flow › should get teach-back prompts by step

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      134 |         .send({ step: 2 });
      135 |
    > 136 |       expect(response.status).toBe(201);
          |                               ^
      137 |       expect(response.body).toHaveProperty('nextPrompt');
      138 |     });
      139 |

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:136:31)

  ● Family Mode Integration Tests (e2e) › Teach-Back Session Flow › should finish teach-back with stars

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      144 |         .send({ stars: 3 });
      145 |
    > 146 |       expect(response.status).toBe(201);
          |                               ^
      147 |       expect(response.body).toHaveProperty('nextPrompt');
      148 |       expect(response.body.nextPrompt).toContain('3 estrelas');
      149 |     });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:146:31)

FAIL dist/test/integration/extension-auth.integration.spec.js (6.853 s)
  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should start device code flow

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      78 |         });
      79 |
    > 80 |       expect(response.status).toBe(201);
         |                               ^
      81 |       expect(response.body).toHaveProperty('deviceCode');
      82 |       expect(response.body).toHaveProperty('userCode');
      83 |       expect(response.body).toHaveProperty('verificationUrl');

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:80:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should return PENDING when polling immediately

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

       95 |         });
       96 |
    >  97 |       expect(response.status).toBe(201);
          |                               ^
       98 |       expect(response.body.status).toBe('PENDING');
       99 |     });
      100 |

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:97:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should approve device code (as logged in user)

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      108 |         });
      109 |
    > 110 |       expect(response.status).toBe(201);
          |                               ^
      111 |       expect(response.body.ok).toBe(true);
      112 |     });
      113 |

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:110:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should return APPROVED and tokens when polling after approval

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      120 |         });
      121 |
    > 122 |       expect(response.status).toBe(201);
          |                               ^
      123 |       expect(response.body.status).toBe('APPROVED');
      124 |       expect(response.body).toHaveProperty('accessToken');
      125 |       expect(response.body).toHaveProperty('refreshToken');

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:122:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should use extension token to access protected endpoint

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      136 |         .set('Authorization', `Bearer ${accessToken}`);
      137 |
    > 138 |       expect(response.status).toBe(200);
          |                               ^
      139 |       expect(response.body.userId).toBe(userId);
      140 |     });
      141 |

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:138:31)

  ● Extension Auth Integration Tests (e2e) › Device Code Flow › should refresh token

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      145 |         .send({ refreshToken });
      146 |
    > 147 |       expect(response.status).toBe(201);
          |                               ^
      148 |       expect(response.body).toHaveProperty('accessToken');
      149 |       
      150 |       // Old token should still be valid until expiry, but let's just check we got a new one

      at Object.<anonymous> (test/integration/extension-auth.integration.spec.ts:147:31)

FAIL test/integration/family.spec.ts (57.99 s)
  ● Family Plan (Integration) › Authentication Setup › should register and login owner user

    expected 201 "Created", got 404 "Not Found"

      55 |           schoolingLevel: 'UNDERGRADUATE',
      56 |         })
    > 57 |         .expect(201);
         |          ^
      58 |
      59 |       // Login
      60 |       const loginResponse = await request(app.getHttpServer())

      at Object.<anonymous> (test/integration/family.spec.ts:57:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families › should create family with current user as owner

    expected 201 "Created", got 401 "Unauthorized"

      81 |           name: 'Test Family',
      82 |         })
    > 83 |         .expect(201);
         |          ^
      84 |
      85 |       familyId = response.body.id;
      86 |

      at Object.<anonymous> (test/integration/family.spec.ts:83:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families › should create owner membership record

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 0
    Received array:  []

       96 |       });
       97 |
    >  98 |       expect(members).toHaveLength(1);
          |                       ^
       99 |       expect(members[0]).toMatchObject({
      100 |         userId: ownerUserId,
      101 |         role: 'OWNER',

      at Object.<anonymous> (test/integration/family.spec.ts:98:23)

  ● Family Plan (Integration) › POST /families › should return family with members array

    expected 200 "OK", got 401 "Unauthorized"

      108 |         .get(apiUrl(ROUTES.FAMILY.BY_ID(familyId)))
      109 |         .set('Authorization', `Bearer ${authToken}`)
    > 110 |         .expect(200);
          |          ^
      111 |
      112 |       expect(response.body.members).toBeDefined();
      113 |       expect(response.body.members).toHaveLength(1);

      at Object.<anonymous> (test/integration/family.spec.ts:110:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › GET /families › should list all families user belongs to

    expected 200 "OK", got 401 "Unauthorized"

      121 |         .get(apiUrl(ROUTES.FAMILY.BASE))
      122 |         .set('Authorization', `Bearer ${authToken}`)
    > 123 |         .expect(200);
          |          ^
      124 |
      125 |       expect(response.body).toHaveLength(1);
      126 |       expect(response.body[0].name).toBe('Test Family');

      at Object.<anonymous> (test/integration/family.spec.ts:123:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should add existing user as GUARDIAN

    expected 201 "Created", got 404 "Not Found"

      140 |           schoolingLevel: 'UNDERGRADUATE',
      141 |         })
    > 142 |         .expect(201);
          |          ^
      143 |
      144 |       const response = await request(app.getHttpServer())
      145 |         .post(apiUrl(ROUTES.FAMILY.INVITE(familyId)))

      at Object.<anonymous> (test/integration/family.spec.ts:142:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should create placeholder user for new email

    expected 201 "Created", got 401 "Unauthorized"

      180 |           role: 'CHILD',
      181 |         })
    > 182 |         .expect(201);
          |          ^
      183 |
      184 |       // expect(response.body.message).toContain('invited'); // Controllers return data directly
      185 |

      at Object.<anonymous> (test/integration/family.spec.ts:182:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should reject duplicate invitations

    expected 409 "Conflict", got 401 "Unauthorized"

      202 |           role: 'GUARDIAN',
      203 |         })
    > 204 |         .expect(409);
          |          ^
      205 |     });
      206 |
      207 |     it('should only allow owner to invite members', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:204:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/invite › should only allow owner to invite members

    expected 403 "Forbidden", got 401 "Unauthorized"

      233 |           role: 'CHILD',
      234 |         })
    > 235 |         .expect(403);
          |          ^
      236 |     });
      237 |   });
      238 |

      at Object.<anonymous> (test/integration/family.spec.ts:235:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/transfer-ownership › should transfer ownership to existing member

    TypeError: Cannot read properties of null (reading 'id')

      244 |         where: { email: 'existing@family-test.com' },
      245 |       });
    > 246 |       memberUserId = existingUser.id;
          |                                   ^
      247 |     });
      248 |
      249 |     it('should transfer ownership to existing member', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:246:35)

  ● Family Plan (Integration) › POST /families/:id/transfer-ownership › should prevent non-owner from transferring

    TypeError: Cannot read properties of null (reading 'id')

      244 |         where: { email: 'existing@family-test.com' },
      245 |       });
    > 246 |       memberUserId = existingUser.id;
          |                                   ^
      247 |     });
      248 |
      249 |     it('should transfer ownership to existing member', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:246:35)

  ● Family Plan (Integration) › POST /families/:id/primary › should set family as primary for user

    expected 201 "Created", got 401 "Unauthorized"

      316 |         .post(apiUrl(ROUTES.FAMILY.SET_PRIMARY(familyId)))
      317 |         .set('Authorization', `Bearer ${authToken}`)
    > 318 |         .expect(201);
          |          ^
      319 |
      320 |       // expect(response.body.message).toContain('primary'); // Controllers return data directly
      321 |

      at Object.<anonymous> (test/integration/family.spec.ts:318:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › POST /families/:id/primary › should only allow family members to set as primary

    expected 403 "Forbidden", got 401 "Unauthorized"

      349 |         .post(apiUrl(ROUTES.FAMILY.SET_PRIMARY(familyId)))
      350 |         .set('Authorization', `Bearer ${outsiderLogin.body.access_token}`)
    > 351 |         .expect(403);
          |          ^
      352 |     });
      353 |   });
      354 |

      at Object.<anonymous> (test/integration/family.spec.ts:351:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › DELETE /families/:id › should delete family and all members

    expected 200 "OK", got 401 "Unauthorized"

      400 |         .delete(apiUrl(ROUTES.FAMILY.BY_ID(tempFamilyId)))
      401 |         .set('Authorization', `Bearer ${authToken}`)
    > 402 |         .expect(200);
          |          ^
      403 |
      404 |       // Verify family deleted
      405 |       const family = await prisma.family.findUnique({

      at Object.<anonymous> (test/integration/family.spec.ts:402:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › DELETE /families/:id › should only allow owner to delete family

    expected 403 "Forbidden", got 401 "Unauthorized"

      426 |         .delete(apiUrl(ROUTES.FAMILY.BY_ID(familyId)))
      427 |         .set('Authorization', `Bearer ${newOwnerLogin.body.access_token}`)
    > 428 |         .expect(403);
          |          ^
      429 |     });
      430 |
      431 |     it('should return 404 if family does not exist', async () => {

      at Object.<anonymous> (test/integration/family.spec.ts:428:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › DELETE /families/:id › should return 404 if family does not exist

    expected 404 "Not Found", got 401 "Unauthorized"

      433 |         .delete(apiUrl(ROUTES.FAMILY.BY_ID('non-existent-id')))
      434 |         .set('Authorization', `Bearer ${authToken}`)
    > 435 |         .expect(404);
          |          ^
      436 |     });
      437 |   });
      438 |

      at Object.<anonymous> (test/integration/family.spec.ts:435:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › Multi-Family Scenarios › should create second family

    expected 201 "Created", got 401 "Unauthorized"

      447 |           name: 'Second Family',
      448 |         })
    > 449 |         .expect(201);
          |          ^
      450 |
      451 |       secondFamilyId = response.body.id;
      452 |       expect(response.body.name).toBe('Second Family');

      at Object.<anonymous> (test/integration/family.spec.ts:449:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › Multi-Family Scenarios › should list both families

    expected 200 "OK", got 401 "Unauthorized"

      457 |         .get(apiUrl(ROUTES.FAMILY.BASE))
      458 |         .set('Authorization', `Bearer ${authToken}`)
    > 459 |         .expect(200);
          |          ^
      460 |
      461 |       expect(response.body.length).toBeGreaterThanOrEqual(2);
      462 |       const familyNames = response.body.map(f => f.name);

      at Object.<anonymous> (test/integration/family.spec.ts:459:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

  ● Family Plan (Integration) › Multi-Family Scenarios › should switch primary family

    expected 201 "Created", got 401 "Unauthorized"

      469 |         .post(apiUrl(ROUTES.FAMILY.SET_PRIMARY(secondFamilyId)))
      470 |         .set('Authorization', `Bearer ${authToken}`)
    > 471 |         .expect(201);
          |          ^
      472 |
      473 |       const user = await prisma.user.findUnique({
      474 |         where: { id: ownerUserId },

      at Object.<anonymous> (test/integration/family.spec.ts:471:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)


  ● Test suite failed to run

    expected 201 "Created", got 401 "Unauthorized"

      307 |           newOwnerId: ownerUserId,
      308 |         })
    > 309 |         .expect(201);
          |          ^
      310 |     });
      311 |   });
      312 |

      at Object.<anonymous> (test/integration/family.spec.ts:309:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)
      at node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)
      at Test.assert (node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)

FAIL dist/test/e2e/study-groups/group-management.spec.js
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Study Groups - Management', () => {
         |      ^
      12 |   let groupId: string;
      13 |
      14 |   test.beforeEach(async ({ page }) => {

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/study-groups/group-management.spec.ts:11:6)

FAIL dist/test/e2e/content/upload.spec.js
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

      10 |  */
      11 |
    > 12 | test.describe('Content Upload', () => {
         |      ^
      13 |   test.beforeEach(async ({ page }) => {
      14 |     // Login before each test
      15 |     await loginAs(page, TEST_USERS.facilitator.email);

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/content/upload.spec.ts:12:6)

FAIL test/e2e/study-groups/group-management.spec.ts
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Study Groups - Management', () => {
         |      ^
      12 |   let groupId: string;
      13 |
      14 |   test.beforeEach(async ({ page }) => {

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/study-groups/group-management.spec.ts:11:6)

FAIL test/integration/family-mode.integration.spec.ts (14.002 s)
  ● Family Mode Integration Tests (e2e) › Family Policy Flow › should create a family policy

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      46 |         });
      47 |
    > 48 |       expect(response.status).toBe(201);
         |                               ^
      49 |       expect(response.body).toHaveProperty('id');
      50 |       expect(response.body.timeboxDefaultMin).toBe(20);
      51 |       

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:48:31)

  ● Family Mode Integration Tests (e2e) › Family Policy Flow › should get policy confirmation prompt

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      60 |         .set('Authorization', `Bearer ${authToken}`);
      61 |
    > 62 |       expect(response.status).toBe(201);
         |                               ^
      63 |       expect(response.body).toHaveProperty('nextPrompt');
      64 |       expect(response.body.nextPrompt).toContain('20 min');
      65 |     });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:62:31)

  ● Family Mode Integration Tests (e2e) › Family Policy Flow › should get educator dashboard with privacy filtering

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      70 |         .set('Authorization', `Bearer ${authToken}`);
      71 |
    > 72 |       expect(response.status).toBe(200);
         |                               ^
      73 |       expect(response.body).toHaveProperty('streakDays');
      74 |       expect(response.body).toHaveProperty('minutesTotal');
      75 |       expect(response.body).toHaveProperty('comprehensionAvg');

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:72:31)

  ● Family Mode Integration Tests (e2e) › Co-Reading Session Flow › should start co-reading session

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      93 |         });
      94 |
    > 95 |       expect(response.status).toBe(201);
         |                               ^
      96 |       expect(response.body).toHaveProperty('coSession');
      97 |       expect(response.body).toHaveProperty('context');
      98 |       expect(response.body.context.currentPhase).toBe('BOOT');

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:95:31)

  ● Family Mode Integration Tests (e2e) › Co-Reading Session Flow › should get co-session prompt by phase

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      105 |         .send({ phase: 'PRE' });
      106 |
    > 107 |       expect(response.status).toBe(201);
          |                               ^
      108 |       expect(response.body).toHaveProperty('nextPrompt');
      109 |     });
      110 |   });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:107:31)

  ● Family Mode Integration Tests (e2e) › Teach-Back Session Flow › should start teach-back session

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      123 |         });
      124 |
    > 125 |       expect(response.status).toBe(201);
          |                               ^
      126 |       expect(response.body).toHaveProperty('session');
      127 |       expect(response.body.session.type).toBe('TEACH_BACK');
      128 |     });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:125:31)

  ● Family Mode Integration Tests (e2e) › Teach-Back Session Flow › should get teach-back prompts by step

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      134 |         .send({ step: 2 });
      135 |
    > 136 |       expect(response.status).toBe(201);
          |                               ^
      137 |       expect(response.body).toHaveProperty('nextPrompt');
      138 |     });
      139 |

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:136:31)

  ● Family Mode Integration Tests (e2e) › Teach-Back Session Flow › should finish teach-back with stars

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

      144 |         .send({ stars: 3 });
      145 |
    > 146 |       expect(response.status).toBe(201);
          |                               ^
      147 |       expect(response.body).toHaveProperty('nextPrompt');
      148 |       expect(response.body.nextPrompt).toContain('3 estrelas');
      149 |     });

      at Object.<anonymous> (test/integration/family-mode.integration.spec.ts:146:31)

FAIL dist/test/e2e/content/cornell-reader.spec.js
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Cornell Reader', () => {
         |      ^
      12 |   let contentId: string;
      13 |
      14 |   test.beforeEach(async ({ page }) => {

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/content/cornell-reader.spec.ts:11:6)

FAIL src/prompts/prompt-library.service.spec.ts (5.606 s)
  ● PromptLibraryService › getPrompt › should interpolate variables in quickReplies

    expect(received).toContain(expected) // indexOf

    Expected substring: "História do Brasil"
    Received string:    "Sim, começar"

      41 |         MIN: 20,
      42 |       });
    > 43 |       expect(prompt.quickReplies[0]).toContain('História do Brasil');
         |                                      ^
      44 |       expect(prompt.quickReplies[0]).toContain('20 min');
      45 |     });
      46 |

      at Object.<anonymous> (src/prompts/prompt-library.service.spec.ts:43:38)

FAIL dist/test/integration/webclip-creation.integration.spec.js (11.287 s)
  ● WebClip Creation Integration Tests › WebClip Creation › should create WebClip with valid extension token

    secretOrPrivateKey must have a value

      51 |     // Generate Extension Token (simulating device flow result)
      52 |     // Manually create JWT with specific scopes
    > 53 |     extensionToken = jwtService.sign({
         |                                 ^
      54 |       sub: userId,
      55 |       email: userData.email,
      56 |       role: 'COMMON_USER', // Usually not present in extension token, but good for guard compat

      at Object.<anonymous>.module.exports [as sign] (node_modules/jsonwebtoken/sign.js:111:20)
      at JwtService.sign (node_modules/@nestjs/jwt/dist/jwt.service.js:41:20)
      at Object.<anonymous> (test/integration/webclip-creation.integration.spec.ts:53:33)

  ● WebClip Creation Integration Tests › WebClip Creation › should reject creation without required scope

    secretOrPrivateKey must have a value

      51 |     // Generate Extension Token (simulating device flow result)
      52 |     // Manually create JWT with specific scopes
    > 53 |     extensionToken = jwtService.sign({
         |                                 ^
      54 |       sub: userId,
      55 |       email: userData.email,
      56 |       role: 'COMMON_USER', // Usually not present in extension token, but good for guard compat

      at Object.<anonymous>.module.exports [as sign] (node_modules/jsonwebtoken/sign.js:111:20)
      at JwtService.sign (node_modules/@nestjs/jwt/dist/jwt.service.js:41:20)
      at Object.<anonymous> (test/integration/webclip-creation.integration.spec.ts:53:33)

  ● WebClip Creation Integration Tests › Session Start › should start session with valid extension token

    secretOrPrivateKey must have a value

      51 |     // Generate Extension Token (simulating device flow result)
      52 |     // Manually create JWT with specific scopes
    > 53 |     extensionToken = jwtService.sign({
         |                                 ^
      54 |       sub: userId,
      55 |       email: userData.email,
      56 |       role: 'COMMON_USER', // Usually not present in extension token, but good for guard compat

      at Object.<anonymous>.module.exports [as sign] (node_modules/jsonwebtoken/sign.js:111:20)
      at JwtService.sign (node_modules/@nestjs/jwt/dist/jwt.service.js:41:20)
      at Object.<anonymous> (test/integration/webclip-creation.integration.spec.ts:53:33)

FAIL src/events/family-event.service.spec.ts (17.781 s)
  ● FamilyEventService › logPolicySet › should persist FAMILY_POLICY_SET event

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

    @@ -1,7 +1,8 @@
      Object {
        "data": Object {
    +     "eventType": "FAMILY_POLICY_SET",
          "payloadJson": Object {
            "data": Object {
              "householdId": "hh_123",
              "learnerUserId": "user_456",
              "policy": Object {
    @@ -19,10 +20,8 @@
              },
            },
            "domain": "FAMILY",
            "type": "FAMILY_POLICY_SET",
          },
    -     "sessionId": "session_1",
    -     "timestamp": Any<Date>,
    -     "userId": "user_456",
    +     "readingSessionId": "session_1",
        },
      },

    Number of calls: 1

      71 |
      72 |       expect(result).toBeDefined();
    > 73 |       expect(mockPrismaService.sessionEvent.create).toHaveBeenCalledWith({
         |                                                     ^
      74 |         data: {
      75 |           sessionId: 'session_1',
      76 |           userId: 'user_456',

      at Object.<anonymous> (src/events/family-event.service.spec.ts:73:53)

  ● FamilyEventService › getSessionEvents › should query FAMILY events for a session

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

      Object {
        "orderBy": Object {
    -     "timestamp": "asc",
    +     "createdAt": "asc",
        },
        "where": Object {
          "payloadJson": Object {
            "equals": "FAMILY",
            "path": Array [
              "domain",
            ],
          },
    -     "sessionId": "session_1",
    +     "readingSessionId": "session_1",
        },
      },

    Number of calls: 1

      133 |
      134 |       expect(events).toHaveLength(1);
    > 135 |       expect(mockPrismaService.sessionEvent.findMany).toHaveBeenCalledWith({
          |                                                       ^
      136 |         where: {
      137 |           sessionId: 'session_1',
      138 |           payloadJson: {

      at Object.<anonymous> (src/events/family-event.service.spec.ts:135:55)

FAIL test/e2e/content/upload.spec.ts
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

      10 |  */
      11 |
    > 12 | test.describe('Content Upload', () => {
         |      ^
      13 |   test.beforeEach(async ({ page }) => {
      14 |     // Login before each test
      15 |     await loginAs(page, TEST_USERS.facilitator.email);

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/content/upload.spec.ts:12:6)

FAIL test/e2e/content/cornell-reader.spec.ts
  ● Test suite failed to run

    Playwright Test needs to be invoked via 'npx playwright test' and excluded from Jest test runs.
    Creating one directory for Playwright tests and one for Jest is the recommended way of doing it.
    See https://playwright.dev/docs/intro for more information about Playwright Test.

       9 |  */
      10 |
    > 11 | test.describe('Cornell Reader', () => {
         |      ^
      12 |   let contentId: string;
      13 |
      14 |   test.beforeEach(async ({ page }) => {

      at throwIfRunningInsideJest (node_modules/playwright/lib/common/testType.js:273:11)
      at TestTypeImpl._describe (node_modules/playwright/lib/common/testType.js:114:5)
      at Function.describe (node_modules/playwright/lib/transform/transform.js:275:12)
      at Object.<anonymous> (test/e2e/content/cornell-reader.spec.ts:11:6)

FAIL test/integration/webclip-creation.integration.spec.ts (21.998 s)
  ● WebClip Creation Integration Tests › WebClip Creation › should create WebClip with valid extension token

    secretOrPrivateKey must have a value

      51 |     // Generate Extension Token (simulating device flow result)
      52 |     // Manually create JWT with specific scopes
    > 53 |     extensionToken = jwtService.sign({
         |                                 ^
      54 |       sub: userId,
      55 |       email: userData.email,
      56 |       role: 'COMMON_USER', // Usually not present in extension token, but good for guard compat

      at Object.<anonymous>.module.exports [as sign] (node_modules/jsonwebtoken/sign.js:111:20)
      at JwtService.sign (node_modules/@nestjs/jwt/dist/jwt.service.js:41:20)
      at Object.<anonymous> (test/integration/webclip-creation.integration.spec.ts:53:33)

  ● WebClip Creation Integration Tests › WebClip Creation › should reject creation without required scope

    secretOrPrivateKey must have a value

      51 |     // Generate Extension Token (simulating device flow result)
      52 |     // Manually create JWT with specific scopes
    > 53 |     extensionToken = jwtService.sign({
         |                                 ^
      54 |       sub: userId,
      55 |       email: userData.email,
      56 |       role: 'COMMON_USER', // Usually not present in extension token, but good for guard compat

      at Object.<anonymous>.module.exports [as sign] (node_modules/jsonwebtoken/sign.js:111:20)
      at JwtService.sign (node_modules/@nestjs/jwt/dist/jwt.service.js:41:20)
      at Object.<anonymous> (test/integration/webclip-creation.integration.spec.ts:53:33)

  ● WebClip Creation Integration Tests › Session Start › should start session with valid extension token

    secretOrPrivateKey must have a value

      51 |     // Generate Extension Token (simulating device flow result)
      52 |     // Manually create JWT with specific scopes
    > 53 |     extensionToken = jwtService.sign({
         |                                 ^
      54 |       sub: userId,
      55 |       email: userData.email,
      56 |       role: 'COMMON_USER', // Usually not present in extension token, but good for guard compat

      at Object.<anonymous>.module.exports [as sign] (node_modules/jsonwebtoken/sign.js:111:20)
      at JwtService.sign (node_modules/@nestjs/jwt/dist/jwt.service.js:41:20)
      at Object.<anonymous> (test/integration/webclip-creation.integration.spec.ts:53:33)

FAIL dist/test/integration/websocket.spec.js (88.209 s)
  ● WebSocket Real-Time Events (Integration) › WebSocket Connection › should reject connection with invalid token

    Should not connect with invalid token

      194 |       badClient.on('connect', () => {
      195 |         badClient.disconnect();
    > 196 |         done(new Error('Should not connect with invalid token'));
          |              ^
      197 |       });
      198 |
      199 |       badClient.on('connect_error', (error) => {

      at Socket.<anonymous> (test/integration/websocket.spec.ts:196:14)
      at Socket.Object.<anonymous>.Emitter.emit (node_modules/@socket.io/component-emitter/lib/cjs/index.js:143:20)
      at Socket.onconnect (node_modules/socket.io-client/build/cjs/socket.js:618:14)
      at Socket.onpacket (node_modules/socket.io-client/build/cjs/socket.js:506:26)
      at Manager.Object.<anonymous>.Emitter.emit (node_modules/@socket.io/component-emitter/lib/cjs/index.js:143:20)
      at node_modules/socket.io-client/build/cjs/manager.js:246:18

  ● WebSocket Real-Time Events (Integration) › WebSocket Connection › should reject connection without token

    Should not connect without token

      211 |       badClient.on('connect', () => {
      212 |         badClient.disconnect();
    > 213 |         done(new Error('Should not connect without token'));
          |              ^
      214 |       });
      215 |
      216 |       badClient.on('connect_error', (error) => {

      at Socket.<anonymous> (test/integration/websocket.spec.ts:213:14)
      at Socket.Object.<anonymous>.Emitter.emit (node_modules/@socket.io/component-emitter/lib/cjs/index.js:143:20)
      at Socket.onconnect (node_modules/socket.io-client/build/cjs/socket.js:618:14)
      at Socket.onpacket (node_modules/socket.io-client/build/cjs/socket.js:506:26)
      at Manager.Object.<anonymous>.Emitter.emit (node_modules/@socket.io/component-emitter/lib/cjs/index.js:143:20)
      at node_modules/socket.io-client/build/cjs/manager.js:246:18

  ● WebSocket Real-Time Events (Integration) › Session Membership Events › should notify other users when someone joins session

    thrown: "Exceeded timeout of 5000 ms for a test while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      243 |     });
      244 |
    > 245 |     it('should notify other users when someone joins session', (done) => {
          |     ^
      246 |       // User 2 listens for join event
      247 |       client2.on('userJoined', (data) => {
      248 |         expect(data.userId).toBe(user1Id);

      at test/integration/websocket.spec.ts:245:5
      at test/integration/websocket.spec.ts:224:3
      at Object.<anonymous> (test/integration/websocket.spec.ts:10:1)

  ● WebSocket Real-Time Events (Integration) › Session Membership Events › should notify other users when someone leaves session

    thrown: "Exceeded timeout of 5000 ms for a test while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      256 |     });
      257 |
    > 258 |     it('should notify other users when someone leaves session', (done) => {
          |     ^
      259 |       // Both join first
      260 |       client1.emit('joinSession', { sessionId });
      261 |       client2.emit('joinSession', { sessionId });

      at test/integration/websocket.spec.ts:258:5
      at test/integration/websocket.spec.ts:224:3
      at Object.<anonymous> (test/integration/websocket.spec.ts:10:1)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast SESSION_STARTED event to all members

    Nest could not find StudyGroupsWebSocketGateway element (this provider does not exist in the current context)

      316 |         });
      317 |         // Manually trigger emission (service would do this)
    > 318 |         const gateway = app.get('StudyGroupsWebSocketGateway');
          |                             ^
      319 |         gateway.emitToSession(sessionId, 'session.started', {
      320 |           sessionId,
      321 |           status: 'RUNNING',

      at InstanceLinksHost.get (node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at Proxy.find (node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at Proxy.get (node_modules/@nestjs/core/nest-application-context.js:77:20)
      at Timeout._onTimeout (test/integration/websocket.spec.ts:318:29)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast SESSION_STARTED event to all members

    thrown: "Exceeded timeout of 5000 ms for a test while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      299 |     });
      300 |
    > 301 |     it('should broadcast SESSION_STARTED event to all members', (done) => {
          |     ^
      302 |       // User 2 listens for session started
      303 |       client2.on('session.started', (data) => {
      304 |         expect(data.sessionId).toBe(sessionId);

      at test/integration/websocket.spec.ts:301:5
      at test/integration/websocket.spec.ts:276:3
      at Object.<anonymous> (test/integration/websocket.spec.ts:10:1)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast ROUND_ADVANCED event when round status changes

    Nest could not find StudyGroupsWebSocketGateway element (this provider does not exist in the current context)

      344 |         });
      345 |
    > 346 |         const gateway = app.get('StudyGroupsWebSocketGateway');
          |                             ^
      347 |         gateway.emitToSession(sessionId, 'round.advanced', {
      348 |           sessionId,
      349 |           roundId: round!.id,

      at InstanceLinksHost.get (node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at Proxy.find (node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at Proxy.get (node_modules/@nestjs/core/nest-application-context.js:77:20)
      at Timeout._onTimeout (test/integration/websocket.spec.ts:346:29)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast ROUND_ADVANCED event when round status changes

    thrown: "Exceeded timeout of 5000 ms for a test while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      325 |     });
      326 |
    > 327 |     it('should broadcast ROUND_ADVANCED event when round status changes', (done) => {
          |     ^
      328 |       client2.on('round.advanced', (data) => {
      329 |         expect(data.sessionId).toBe(sessionId);
      330 |         expect(data.roundIndex).toBe(1);

      at test/integration/websocket.spec.ts:327:5
      at test/integration/websocket.spec.ts:276:3
      at Object.<anonymous> (test/integration/websocket.spec.ts:10:1)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast VOTE_SUBMITTED event when user votes

    Nest could not find StudyGroupsWebSocketGateway element (this provider does not exist in the current context)

      377 |         });
      378 |
    > 379 |         const gateway = app.get('StudyGroupsWebSocketGateway');
          |                             ^
      380 |         gateway.emitToSession(sessionId, 'vote.submitted', {
      381 |           sessionId,
      382 |           roundId: round!.id,

      at InstanceLinksHost.get (node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at Proxy.find (node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at Proxy.get (node_modules/@nestjs/core/nest-application-context.js:77:20)
      at Timeout._onTimeout (test/integration/websocket.spec.ts:379:29)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast VOTE_SUBMITTED event when user votes

    thrown: "Exceeded timeout of 5000 ms for a test while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      354 |     });
      355 |
    > 356 |     it('should broadcast VOTE_SUBMITTED event when user votes', (done) => {
          |     ^
      357 |       client2.on('vote.submitted', (data) => {
      358 |         expect(data.sessionId).toBe(sessionId);
      359 |         expect(data.userId).toBe(user1Id);

      at test/integration/websocket.spec.ts:356:5
      at test/integration/websocket.spec.ts:276:3
      at Object.<anonymous> (test/integration/websocket.spec.ts:10:1)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast CHAT_MESSAGE event when user sends message

    Nest could not find StudyGroupsWebSocketGateway element (this provider does not exist in the current context)

      397 |
      398 |       setTimeout(() => {
    > 399 |         const gateway = app.get('StudyGroupsWebSocketGateway');
          |                             ^
      400 |         gateway.emitToSession(sessionId, 'chat.message', {
      401 |           message: 'Hello from user 1!',
      402 |           userId: user1Id,

      at InstanceLinksHost.get (node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at Proxy.find (node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at Proxy.get (node_modules/@nestjs/core/nest-application-context.js:77:20)
      at Timeout._onTimeout (test/integration/websocket.spec.ts:399:29)

  ● WebSocket Real-Time Events (Integration) › Real-Time Session Events › should broadcast CHAT_MESSAGE event when user sends message

    thrown: "Exceeded timeout of 5000 ms for a test while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      388 |     });
      389 |
    > 390 |     it('should broadcast CHAT_MESSAGE event when user sends message', (done) => {
          |     ^
      391 |       client2.on('chat.message', (data) => {
      392 |         expect(data.message).toBe('Hello from user 1!');
      393 |         expect(data.userId).toBe(user1Id);

      at test/integration/websocket.spec.ts:390:5
      at test/integration/websocket.spec.ts:276:3
      at Object.<anonymous> (test/integration/websocket.spec.ts:10:1)

  ● WebSocket Real-Time Events (Integration) › Event Isolation › should NOT receive events from other sessions

    Nest could not find StudyGroupsWebSocketGateway element (this provider does not exist in the current context)

      446 |       // Emit event to session 1
      447 |       setTimeout(() => {
    > 448 |         const gateway = app.get('StudyGroupsWebSocketGateway');
          |                             ^
      449 |         gateway.emitToSession(sessionId, 'session.started', {
      450 |           sessionId,
      451 |           status: 'RUNNING',

      at InstanceLinksHost.get (node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at Proxy.find (node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at Proxy.get (node_modules/@nestjs/core/nest-application-context.js:77:20)
      at Timeout._onTimeout (test/integration/websocket.spec.ts:448:29)

  ● WebSocket Real-Time Events (Integration) › Event Isolation › should NOT receive events from other sessions

    thrown: "Exceeded timeout of 5000 ms for a test while waiting for `done()` to be called.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      427 |     });
      428 |
    > 429 |     it('should NOT receive events from other sessions', (done) => {
          |     ^
      430 |       client1 = io(SOCKET_URL, { auth: { token: user1Token } });
      431 |       client2 = io(SOCKET_URL, { auth: { token: user2Token } });
      432 |

      at test/integration/websocket.spec.ts:429:5
      at test/integration/websocket.spec.ts:408:3
      at Object.<anonymous> (test/integration/websocket.spec.ts:10:1)


Test Suites: 42 failed, 28 passed, 70 total
Tests:       255 failed, 6 skipped, 171 passed, 432 total
Snapshots:   0 total
Time:        91.687 s
Ran all test suites.
